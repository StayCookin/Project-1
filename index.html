<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="description" content="InRent - Connect with student accommodation in Botswana">
    <meta name="keywords" content="student accommodation, Botswana, rental properties, student housing">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#228B22">
    
    <meta property="og:title" content="InRent - Student Accommodation in Botswana ">
    <meta property="og:description" content="Find and list student accommodation in Botswana">
    <meta property="og:image" content="https://placehold.co/1200x600/228B22/ffffff?text=InRent+OG+Image">     <meta property="og:url" content="https://inrent.com">
    
    <link rel="icon" type="image/png" href="https://placehold.co/32x32/228B22/ffffff?text=IR">     <meta charset="UTF-8">
  <title>InRent - Simplifying Rental Management For Students and Landlords!</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <style>
    :root {
      --primary: #228B22; /* Forest Green */
      --primary-dark: #1B6B1B;  
      --secondary: #12B886;
      --dark: #212529;
      --light: #F8F9FA;
      --gray: #ADB5BD;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background-color: var(--light);
      color: var(--dark);
      line-height: 1.6;
      scroll-behavior: smooth;
      overflow-x: hidden;
    }
    
    /* Smooth transitions */
    * {
      transition: all 0.5s ease;
    }
    
    
    .container {
      width: 90%;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    header {
      background-color: white;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 100;
    }
    
    
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 0;
    }
    
    .logo {
      font-size: 1.8rem;
      font-weight: bold;
      display: flex;
      align-items: center;
    }
    
    .logo .in {
      color: white;
      background-color: var(--primary);
      padding: 2px 8px;
      border-radius: 4px;
      margin-right: 1px;
    }
    
    .logo .rent {
      color: var(--primary);
    }
    
    .nav-links {
      display: flex;
      list-style: none;
    }
    
    .nav-links li {
      margin-left: 2rem;
    }
    
    .nav-links a {
      text-decoration: none;
      color: var(--dark);
      font-weight: 500;
      transition: all 0.3s;
      position: relative;
      padding: 0.5rem 0;
    }
    
    .nav-links a::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 2px;
      background-color: var(--primary);
      transition: width 0.3s;
    }
    
    .nav-links a:hover::after {
      width: 100%;
    }
    
    .nav-links a:hover {
      color: var(--primary);
    }
    
    .btn {
      background-color: var(--primary);
      color: white;
      padding: 0.5rem 1.5rem;
      border-radius: 4px;
      border: none;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.3s;
    }
    
    .btn:hover {
      background-color: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    
    .hero {
      padding: 12rem 0 6rem;
      text-align: center;
      background: linear-gradient(rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.9)), url('https://placehold.co/1200x600/e0e0e0/333333?text=Student+Housing') center/cover;
      position: relative;
      overflow: hidden;
    }
    
    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(34, 139, 34, 0.1), rgba(18, 184, 134, 0.1));
      z-index: 0;
    }
    
    .hero-content {
      position: relative;
      z-index: 1;
    }
    
    .hero h1 {
      font-size: 3.5rem;
      margin-bottom: 1.5rem;
      font-weight: 700;
      line-height: 1.2;
      color: var(--dark);
    }
    
    .hero p {
      font-size: 1.3rem;
      color: var(--gray);
      max-width: 800px;
      margin: 0 auto 2.5rem;
      font-weight: 400;
    }
    
    .hero-buttons {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      flex-wrap: wrap;
    }
    
    .hero-buttons .btn {
      padding: 1rem 2.5rem;
      font-size: 1.1rem;
      border-radius: 6px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }
    
    .hero-buttons .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 30px rgba(0, 0, 0, 0.15);
    }
    
    .auth-buttons {
      display: flex;
      gap: 1rem;
      align-items: center;
    }

    .auth-buttons .btn {
      padding: 0.5rem 1.5rem;
      font-weight: 500;
      border-radius: 4px;
      transition: all 0.3s ease;
    }

    .auth-buttons .btn-outline {
      background: transparent;
      border: 2px solid var(--primary);
      color: var(--primary);
    }

    .auth-buttons .btn-outline:hover {
      background: var(--primary);
      color: white;
    }

    .auth-options {
      display: flex;
      gap: 1rem;
      margin-bottom: 2rem;
      padding: 1rem;
      border-radius: 8px;
      background: var(--light); 
    }

    .auth-options .option {
      flex: 1;
      padding: 1.5rem;
      text-align: center;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .auth-options .option.active {
      background: white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .auth-options .option h3 {
      margin-bottom: 0.5rem;
      color: var(--primary);
    }

    .auth-options .option p {
      color: var(--gray);
      font-size: 0.9rem;
    }
    
    .btn-secondary {
      background-color: transparent;
            border: 2px solid var(--primary);
      color: var(--primary);
    }
    
    .btn-secondary:hover {
            background-color: var(--primary);
            color: white;
    }
    
    .section {
      padding: 6rem 0;
      scroll-margin-top: 80px; 
      position: relative;
      overflow: hidden;
    }
    
    .section:nth-child(even) {
      background-color: var(--light); 
    }
    
    .section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--primary), transparent);
    }
    
    .section-title {
      text-align: center;
      margin-bottom: 4rem;
      padding: 0 1rem;
    }
    
    .section-title h2 {
      font-size: 2.8rem;
      margin-bottom: 1.5rem;
      position: relative;
      display: inline-block;
      font-weight: 700;
      color: var(--dark);
    }
    
    .section-title h2::after {
      content: '';
      position: absolute;
      bottom: -15px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
    }
    
    .section-title p {
      color: var(--gray);
      max-width: 900px;
      margin: 0 auto;
      font-size: 1.1rem;
      line-height: 1.8;
    }
        
        .section-subtitle {
            text-align: center;
            font-size: 1.8rem;
            margin: 3rem 0 2rem;
            color: var(--primary);
            position: relative;
            padding-bottom: 1rem;
        }
        
        .section-subtitle::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background-color: var(--primary);
        }
    
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
    }
    
    .feature-card {
      background-color: white;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
      transition: transform 0.3s, box-shadow 0.3s;
      position: relative;
      overflow: hidden;
      z-index: 1;
    }
    
    .feature-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 0;
      background-color: rgba(34, 139, 34, 0.05);
      transition: height 0.3s ease;
      z-index: -1;
    }
    
    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }
    
    .feature-card:hover::before {
      height: 100%;
    }
    
    .feature-icon {
      font-size: 2.5rem;
      color: var(--primary);
      margin-bottom: 1rem;
      display: inline-block;
      transition: transform 0.3s;
    }
    
    .feature-card:hover .feature-icon {
      transform: scale(1.2);
    }
    
    .how-it-works {
      background-color: rgba(34, 139, 34, 0.05);
    }
    
    .steps {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
    }
    
    .step {
      text-align: center;
      padding: 1rem;
      position: relative;
    }
    
    .step::after { 
      content: '→';
      position: absolute;
      top: 50%;
      right: -10px; 
      transform: translateY(-50%);
      font-size: 2rem;
      color: var(--primary);
      display: none; 
    }
    
    .step:last-child::after {
      display: none;
    }
    
    @media (min-width: 768px) { 
      .step:not(:last-child)::after {
        display: block;
      }
    }
    
    .step-number {
      background-color: var(--primary);
      color: white;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 0 auto 1rem;
      font-weight: bold;
      font-size: 1.2rem;
      transition: transform 0.3s;
    }
    
    .step:hover .step-number {
      transform: scale(1.1);
    }
    
    .product-demo {
      text-align: center;
    }
    
    .demo-video {
      margin-top: 2rem;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      position: relative;
      cursor: pointer;
    }
     .demo-video img { 
        max-width: 100%;
        height: auto;
        display: block;
    }
    
    .demo-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.3);
      display: flex;
      justify-content: center;
      align-items: center;
      transition: background-color 0.3s;
    }
    
    .demo-overlay:hover {
      background-color: rgba(0, 0, 0, 0.2);
    }
    
    .play-button {
      width: 80px;
      height: 80px;
      background-color: var(--primary);
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: transform 0.3s;
    }
    
    .play-button::after {
      content: '';
      width: 0;
      height: 0;
      border-top: 15px solid transparent;
      border-bottom: 15px solid transparent;
      border-left: 25px solid white;
      margin-left: 5px; 
    }
    
    .demo-overlay:hover .play-button {
      transform: scale(1.1);
    }
    
    .pricing { 
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
    }
    
    .pricing-card {
      background-color: white;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
      text-align: center;
      transition: transform 0.3s, box-shadow 0.3s;
      border-top: 5px solid transparent;
    }
    
    .pricing-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }
    
    .pricing-card.featured {
      border-top: 5px solid var(--primary);
      position: relative;
    }
    
    .featured-label {
      position: absolute;
      top: -10px;
      right: 20px;
      background-color: var(--secondary);
      color: white;
      padding: 0.25rem 1rem;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: bold;
    }
    
    .price {
      font-size: 2.5rem;
      font-weight: bold;
      margin: 1rem 0;
      color: var(--primary);
    }
    
    .price span {
      font-size: 1rem;
      font-weight: normal;
      color: var(--gray);
    }
    
    .pricing-features {
      list-style: none;
      margin: 2rem 0;
      text-align: left;
    }
    
    .pricing-features li {
      margin-bottom: 0.5rem;
      padding-left: 1.5rem;
      position: relative;
    }
    
    .pricing-features li::before {
      content: "✓";
      color: var(--secondary);
      position: absolute;
      left: 0;
    }
    
    .testimonials {
      background-color: rgba(34, 139, 34, 0.05);
    }
    
    .testimonial-container {
      max-width: 800px;
      margin: 0 auto;
      position: relative;
    }
    
    .testimonial-slider {
      position: relative;
      overflow: hidden;
      height: 280px; 
    }
    
    .testimonial {
      background-color: white;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
      text-align: center;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      transition: transform 0.5s ease, opacity 0.5s ease;
      opacity: 0;
      transform: translateX(100%);
    }
    
    .testimonial.active {
      opacity: 1;
      transform: translateX(0);
    }
    
    .testimonial.prev {
      transform: translateX(-100%);
      opacity: 0;
    }
    
    .testimonial img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      margin: 0 auto 1rem;
      border: 3px solid var(--primary);
    }
    
    .testimonial-name {
      font-weight: bold;
      margin-bottom: 0.25rem;
      color: var(--primary-dark);
    }
    
    .testimonial-position {
      color: var(--gray);
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }
    
    .testimonial-controls {
      display: flex;
      justify-content: center;
      margin-top: 2rem;
      gap: 0.5rem;
    }
    
    .control-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background-color: var(--gray);
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .control-dot.active {
      background-color: var(--primary);
      transform: scale(1.2);
    }
    
    .arrow-controls {
      position: absolute;
      top: 50%;
      width: 100%;
      display: flex;
      justify-content: space-between;
      transform: translateY(-50%);
      z-index: 2;
    }
    
    .arrow-btn {
      background-color: white;
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      transition: all 0.3s;
    }
    
    .arrow-btn:hover {
      background-color: var(--primary);
      color: white;
      transform: scale(1.1);
    }
    
    .prev-btn {
      margin-left: -20px; 
    }
    
    .next-btn {
      margin-right: -20px; 
    }
    
    .cta {
      text-align: center;
      background: linear-gradient(rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.9)), url('https://placehold.co/1200x600/e0e0e0/333333?text=Call+To+Action+BG') center/cover;
      position: relative;
    }
    
    .cta h2 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }
    
    .cta p {
      color: var(--gray);
      max-width: 700px;
      margin: 0 auto 2rem;
    }
    
    .newsletter {
      max-width: 500px;
      margin: 0 auto;
      display: flex;
      gap: 0.5rem;
    }
    
    .newsletter input {
      flex: 1;
      padding: 0.5rem 1rem; 
      border: 1px solid var(--gray);
      border-radius: 4px;
      font-size: 1rem;
      transition: border-color 0.3s;
    }
    
    .newsletter input:focus {
      outline: none;
      border-color: var(--primary);
    }
    
    .success-message {
      color: var(--primary);
      margin-top: 1rem;
      font-weight: 500;
      display: none; 
    }
    
    footer {
      background-color: var(--dark);
      color: white;
      padding: 3rem 0;
    }
    
    .footer-content {
      display: grid;
      grid-template-columns: 1.5fr repeat(3, 1fr);
      gap: 2rem;
    }
    
    .footer-about h3 {
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
    }
    
    .footer-about .in {
      color: white;
      background-color: var(--primary);
      padding: 2px 8px;
      border-radius: 4px;
      margin-right: 1px;
      font-size: 1.2rem;
    }
    
    .footer-about .rent {
      color: var(--primary);
      font-size: 1.2rem;
    }
    
    .footer-about p {
      color: var(--gray);
      margin-bottom: 1rem;
    }
    
    .social-links {
      display: flex;
      gap: 1rem;
    }
    
    .social-link {
      color: white;
      text-decoration: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: center;
      align-items: center;
      transition: all 0.3s;
    }
    
    .social-link:hover {
      background-color: var(--primary);
      transform: translateY(-3px);
    }
    
    .footer-links h3 {
      margin-bottom: 1rem;
      color: white;
    }
    
    .footer-links ul {
      list-style: none;
    }
    
    .footer-links li {
      margin-bottom: 0.5rem;
    }
    
    .footer-links a {
      color: var(--gray);
      text-decoration: none;
      transition: color 0.3s;
      display: inline-block;
    }
    
    .footer-links a:hover {
      color: white;
      transform: translateX(5px);
    }
    
    .copyright {
      margin-top: 2rem;
      text-align: center;
      color: var(--gray);
      padding-top: 2rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8); 
      display: none; 
      justify-content: center;
      align-items: flex-start; 
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s, visibility 0.3s;
      overflow-y: auto; 
      padding: 2rem 0; 
    }
    
    .modal.active {
      display: flex; 
      opacity: 1;
      visibility: visible;
    }
    
    .modal-content {
      background-color: white;
      padding: 2rem;
      border-radius: 8px;
      max-width: 90%;
      width: 800px; 
      position: relative;
      transform: translateY(-50px);
      transition: transform 0.3s;
      margin: auto; 
    }
    
    .modal.active .modal-content {
      transform: translateY(0);
    }
    
    .modal-close {
      position: absolute;
      top: 10px;
      right: 10px;
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: var(--dark); 
    }
    
    .contact-form { 
      display: grid;
      grid-template-columns: 1fr; 
      gap: 1rem;
    }

    @media (min-width: 600px) { 
        .contact-form {
            grid-template-columns: 1fr 1fr;
        }
        .form-group.full {
            grid-column: span 2;
        }
    }
    
    .form-group {
      margin-bottom: 1rem;
    }
    
    .form-group.full {
      grid-column: span 2; 
    }
    
    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
    }
    
    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 1rem;
    }
    
    .form-group textarea {
      resize: vertical;
      min-height: 100px;
    }
    
    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      font-size: 1.5rem;
      color: var(--dark);
      cursor: pointer;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .animate { 
      opacity: 0; 
    }
    
    .animate.active { 
      animation: fadeInUp 0.6s forwards;
    }
    
    .back-to-top {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 40px;
      height: 40px;
      background-color: var(--primary);
      color: white;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      text-decoration: none;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s;
      z-index: 99;
    }
    
    .back-to-top.active {
      opacity: 1;
      visibility: visible;
    }
    
    .back-to-top:hover {
      transform: translateY(-5px);
    }
    
    @media (max-width: 768px) {
      .hero h1 {
        font-size: 2.5rem;
      }
      
      .footer-content {
        grid-template-columns: 1fr; 
      }
      
      .nav-links {
        position: absolute;
        top: 100%; 
        left: 0;
        width: 100%;
        background-color: white;
        flex-direction: column;
        align-items: center;
        padding: 1rem 0;
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        display: none; 
      }
      
      .nav-links.active { 
        display: flex;
      }
      
      .nav-links li {
        margin: 0.5rem 0;
        width: 100%;
        text-align: center;
      }
            
      .nav-links .btn { 
        width: 90%;
        margin: 0.25rem auto;
      }
      
      .mobile-menu-btn {
        display: block; 
      }
      
      .arrow-controls { 
        display: none;
      }
            
      .modal { 
        padding: 1rem 0;
      }
            
      .modal-content {
        padding: 1.5rem;
        margin: 1rem; 
      }
    }

    .signup-section {
        background-color: rgba(34, 139, 34, 0.05);
        padding: 3rem 0;
    }

    .signup-container {
        max-width: 800px;
        margin: 0 auto;
        background-color: white;
        padding: 2rem;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
    }

    .signup-options {
        display: grid;
        grid-template-columns: 1fr; 
        gap: 2rem;
        margin-top: 1rem;
    }

    @media (min-width: 600px) { 
        .signup-options {
            grid-template-columns: 1fr 1fr;
        }
    }


    .signup-option-btn {
        background: white;
        border: 2px solid var(--primary);
        padding: 2rem;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s;
        text-align: center;
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .signup-option-btn:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(34, 139, 34, 0.1);
    }

    .signup-option-btn i {
        font-size: 2.5rem;
        color: var(--primary);
        margin-bottom: 1rem;
    }

    .signup-option-btn h3 {
        color: var(--dark);
        margin-bottom: 0.5rem;
        font-size: 1.5rem;
    }

    .signup-option-btn p {
        color: var(--gray);
        margin-bottom: 1.5rem;
    }

    .option-features {
        text-align: left;
        list-style: none;
        margin-top: auto; 
    }

    .option-features li {
        margin-bottom: 0.5rem;
        color: var(--dark);
        position: relative;
        padding-left: 1.5rem;
    }

    .option-features li::before {
        content: "✓";
        color: var(--primary);
        position: absolute;
        left: 0;
    }

    .text-center {
        text-align: center;
    }

    .btn-student { 
        background-color: transparent;
        border: 2px solid #1a237e; 
        color: #1a237e;
    }
    
    .btn-student:hover {
        background-color: #1a237e;
        color: white;
    }
    
    .btn-landlord { 
        background-color: white; 
        border: 2px solid #424242; 
        color: #424242;
    }
    
    .btn-landlord:hover {
        background-color: #424242;
        color: white;
    }

    .student-modal .modal-content { 
        background-color: white; 
        border: 2px solid var(--primary);
        border-radius: 12px;
    }
    
    .student-modal h2 {
        color: var(--primary);
        text-align: center;
        margin-bottom: 1.5rem;
    }
    
    .student-modal .form-group {
        margin-bottom: 1.5rem;
    }
    
    .student-modal label {
        color: var(--primary);
        font-weight: 600;
    }
    
    .student-modal input,
    .student-modal select {
        border: 2px solid #e0e0e0;
        border-radius: 6px;
        padding: 0.8rem;
        transition: border-color 0.3s;
    }
    
    .student-modal input:focus,
    .student-modal select:focus {
        border-color: var(--primary);
        outline: none;
    }
    
    .student-modal .btn {
        width: 100%;
        padding: 1rem;
        font-size: 1.1rem;
        margin-top: 1rem;
    }
    
    .student-modal .modal-close {
        color: var(--primary);
    }

    .verification-step {
        display: none; 
        text-align: center;
    }
    
    .verification-step.active {
        display: block;
    }
    
    .verification-code {
        display: flex;
        gap: 0.5rem;
        justify-content: center;
        margin: 1rem 0;
    }
    
    .verification-code input {
        width: 40px;
        height: 40px;
        text-align: center;
        font-size: 1.2rem;
        border: 2px solid #e0e0e0;
        border-radius: 6px;
        transition: border-color 0.3s;
    }
    
    .verification-code input:focus {
        border-color: var(--primary);
        outline: none;
    }
    
    .resend-code {
        text-align: center;
        margin-top: 1rem;
    }
    
    .resend-code button {
        background: none;
        border: none;
        color: var(--primary);
        cursor: pointer;
        font-size: 0.9rem;
    }
    
    .resend-code button:disabled {
        color: var(--gray);
        cursor: not-allowed;
    }
    
    .timer {
        color: var(--gray);
        font-size: 0.9rem;
        margin-top: 0.5rem;
    }

    .welcome-content { 
        text-align: center;
        padding: 2rem 0;
    }
    
    .welcome-content p {
        margin: 1rem 0;
        font-size: 1.1rem;
        color: var(--gray);
    }
    
    .listings-filters {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin-bottom: 2rem;
    }
    
    .property-listings { 
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
    }
    
    .property-card {
        background: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        transition: transform 0.3s;
    }
    
    .property-card:hover {
        transform: translateY(-5px);
    }
    
    .property-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
    }
    
    .property-details {
        padding: 1rem;
    }
    
    .property-price {
        color: var(--primary);
        font-size: 1.2rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
    }
    
    .property-title {
        font-size: 1.1rem;
        margin-bottom: 0.5rem;
        color: var(--dark); 
    }
    
    .property-location {
        color: var(--gray);
        font-size: 0.9rem;
        margin-bottom: 1rem;
    }
    
    .property-features { 
        display: flex;
        flex-wrap: wrap; 
        gap: 1rem;
        margin-bottom: 1rem;
        font-size: 0.9rem;
    }
    
    .property-feature {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .login-options { 
        display: flex;
        gap: 1rem;
        margin-bottom: 2rem;
        border-bottom: 2px solid #e0e0e0;
        padding-bottom: 1rem;
    }
    
    .login-option-btn {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
        padding: 1rem;
        border: none;
        background: none;
        cursor: pointer;
        color: var(--gray);
        transition: all 0.3s;
        font-size: 1rem; 
    }
    
    .login-option-btn i {
        font-size: 1.5rem;
    }
    
    .login-option-btn.active {
        color: var(--primary);
        position: relative;
    }
    
    .login-option-btn.active::after {
        content: '';
        position: absolute;
        bottom: -1rem; 
        left: 0;
        width: 100%;
        height: 2px;
        background-color: var(--primary);
    }
    
    .login-form {
        transition: all 0.3s; 
    }
    
    .form-footer { 
        text-align: center;
        margin-top: 1rem;
        color: var(--gray);
    }
    
    .form-footer a {
        color: var(--primary);
        text-decoration: none;
    }
    
    .form-footer a:hover {
        text-decoration: underline;
    }

    .chat-widget {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 350px;
        height: 500px;
        background: white;
        border-radius: 12px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        display: flex;
        flex-direction: column;
        z-index: 1000;
        transition: transform 0.3s;
        transform: translateY(calc(100% - 60px)); 
    }

    .chat-widget.expanded {
        transform: translateY(0);
    }

    .chat-header {
        padding: 15px;
        background: var(--primary);
        color: white;
        border-radius: 12px 12px 0 0;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 60px; 
    }

    .chat-header h3 {
        margin: 0;
        font-size: 1.1rem;
    }

    .chat-toggle { 
        background: none;
        border: none;
        color: white;
        cursor: pointer;
        font-size: 1.2rem;
    }

    .chat-contacts {
        border-bottom: 1px solid #eee;
        overflow-y: auto;
        max-height: 0; 
        transition: max-height 0.3s;
    }

    .chat-widget.expanded .chat-contacts {
        max-height: 200px; 
    }

    .chat-contact {
        padding: 10px 15px;
        display: flex;
        align-items: center;
        gap: 10px;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    .chat-contact:hover {
        background-color: #f5f5f5;
    }

    .chat-contact.active {
        background-color: #e8f5e9; 
    }

    .contact-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: var(--primary);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
    }

    .contact-info {
        flex: 1;
    }

    .contact-name {
        font-weight: 500;
        margin-bottom: 2px;
    }

    .contact-status { 
        font-size: 0.8rem;
        color: var(--gray);
    }
    .contact-status .status-dot {
        display: inline-block;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        margin-right: 5px;
    }
    .contact-status .status-dot.online { background-color: #28a745; }
    .contact-status .status-dot.offline { background-color: var(--gray); }


    .chat-messages {
        flex: 1;
        padding: 15px;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
    }

    .message {
        max-width: 80%;
        margin-bottom: 10px;
        padding: 8px 12px;
        border-radius: 12px;
        position: relative;
        line-height: 1.4; 
    }

    .message.sent {
        background-color: var(--primary);
        color: white;
        align-self: flex-end;
        border-bottom-right-radius: 4px;
    }

    .message.received {
        background-color: #f0f0f0;
        color: var(--dark);
        align-self: flex-start;
        border-bottom-left-radius: 4px;
    }

    .message-time {
        font-size: 0.7rem;
        margin-top: 4px;
        opacity: 0.8;
        text-align: right; 
    }
    .message.received .message-time {
        text-align: left;
    }


    .chat-input {
        padding: 15px;
        border-top: 1px solid #eee;
        display: flex;
        gap: 10px;
        align-items: center; 
    }

    .chat-input input {
        flex: 1;
        padding: 8px 12px;
        border: 1px solid #ddd;
        border-radius: 20px;
        outline: none;
        font-size: 1rem; 
    }

    .chat-input input:focus {
        border-color: var(--primary);
    }

    .send-button {
        background: var(--primary);
        color: white;
        border: none;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: transform 0.3s;
        font-size: 1.2rem; 
    }

    .send-button:hover {
        transform: scale(1.1);
    }

    .unread-badge {
        background-color: var(--primary); 
        color: white;
        font-size: 0.8rem;
        padding: 2px 6px;
        border-radius: 10px;
        margin-left: auto; 
    }

    .membership-options {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 2rem;
    }

    .membership-card {
        background-color: white;
        padding: 2.5rem 2rem;
        border-radius: 12px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        text-align: center;
        transition: transform 0.3s, box-shadow 0.3s;
        position: relative;
        overflow: hidden; 
    }

    .membership-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
    }

    .membership-icon {
        font-size: 2.5rem;
        color: var(--primary);
        margin-bottom: 1.5rem;
    }

    .membership-card h3 {
        font-size: 1.5rem;
        margin-bottom: 1rem;
        color: var(--dark);
    }

    .membership-card .price { 
        font-size: 2.5rem;
        font-weight: bold;
        color: var(--primary);
        margin-bottom: 1rem;
    }

    .membership-card .price span {
        font-size: 1rem;
        font-weight: normal;
        color: var(--gray);
    }

    .membership-features {
        list-style: none;
        margin: 1.5rem 0;
        text-align: left;
    }

    .membership-features li {
        margin-bottom: 0.75rem;
        padding-left: 1.5rem;
        position: relative;
    }

    .membership-features li::before {
        content: "✓";
        color: var(--primary); 
        position: absolute;
        left: 0;
    }

    .special-offer { 
        position: absolute;
        top: 20px;
        right: -35px; 
        background: #FF4E50; 
        color: white;
        padding: 8px 40px;
        transform: rotate(45deg);
        font-size: 1rem;
        font-weight: bold;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        z-index: 1;
        width: 150px; 
        text-align: center;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .special-offer::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(45deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 100%);
        z-index: -1; 
    }

    .membership-card.landlord-card { 
        border: 2px solid var(--primary);
        overflow: visible; 
    }

    .spots-left {
        margin: 1rem 0;
        color: #FF4E50; 
        font-weight: bold;
        font-size: 1.1rem;
        padding: 10px;
        background-color: rgba(255, 78, 80, 0.1); 
        border-radius: 6px;
        text-align: center;
    }

    .spots-left span { 
        color: #FF4E50;
        font-size: 1.2rem;
    }

    .payment-modal .modal-content { 
        max-width: 500px;
    }

    .payment-details {
        margin: 2rem 0;
    }

    .payment-amount {
        font-size: 2rem;
        color: var(--primary);
        text-align: center;
        margin-bottom: 2rem;
    }

    .payment-form .form-group {
        margin-bottom: 1.5rem;
    }

    .card-input { 
        display: flex;
        gap: 1rem;
    }

    .card-input input[name="expiry"],
    .card-input input[name="cvv"] {
        width: 100px; 
    }
    
    @keyframes fadeIn { 
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .hero h1.animated-hero-title { 
        animation: fadeIn 0.8s ease-out 0.2s forwards;
    }

    .hero p.animated-hero-text {
        animation: fadeIn 0.8s ease-out 0.4s forwards;
    }

    .add-listing-modal .modal-content {
        max-width: 800px; 
    }

    .document-upload {
        border: 2px dashed #ddd;
        padding: 20px;
        text-align: center;
        border-radius: 8px;
        margin-bottom: 1rem;
        cursor: pointer;
        transition: all 0.3s;
    }

    .document-upload:hover {
        border-color: var(--primary);
        background-color: rgba(34, 139, 34, 0.05);
    }

    .document-upload i {
        font-size: 2rem;
        color: var(--primary);
        margin-bottom: 0.5rem;
    }

    .upload-preview { 
        display: none; 
        margin-top: 1rem;
        color: var(--primary); 
    }

    .upload-preview.active {
        display: block;
    }
     .upload-preview .fas.fa-check-circle { 
        margin-right: 0.5rem;
    }


    .rating-group { 
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1rem;
    }

    .rating-slider {
        flex: 1;
        cursor: pointer; 
    }
    
    .rating-value {
        min-width: 40px; 
        text-align: center;
        font-weight: bold;
        color: var(--primary);
    }

    .amenities-tags { 
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-top: 0.5rem;
        padding: 0.5rem; 
        border: 1px solid #eee; 
        border-radius: 4px;
    }

    .amenity-tag {
        background: rgba(34, 139, 34, 0.1);
        color: var(--primary);
        padding: 4px 12px;
        border-radius: 20px; 
        font-size: 0.9rem;
        display: flex;
        align-items: center;
        gap: 4px;
    }

    .amenity-tag button { 
        background: none;
        border: none;
        color: var(--primary);
        cursor: pointer;
        font-size: 1.1rem;
        padding: 0;
        display: flex; 
        align-items: center;
        margin-left: 0.25rem; 
    }
     .amenity-tag button:hover {
        color: var(--primary-dark); 
    }


    .photo-upload-container {
        margin-bottom: 1.5rem;
    }

    .photo-upload-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); 
        gap: 1rem;
        margin-top: 1rem;
    }

    .photo-upload-item {
        position: relative;
        aspect-ratio: 1; 
        border: 2px dashed #ddd;
        border-radius: 8px;
        overflow: hidden; 
        cursor: pointer;
        transition: all 0.3s;
        display: flex; 
        align-items: center;
        justify-content: center;
    }

    .photo-upload-item:hover {
        border-color: var(--primary);
        background-color: rgba(34, 139, 34, 0.05);
    }

    .photo-upload-item input[type="file"] {
        display: none; 
    }

    .photo-upload-item img.photo-preview { 
        width: 100%;
        height: 100%;
        object-fit: cover;
        position: absolute; 
        top: 0;
        left: 0;
    }

    .photo-upload-placeholder {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 1rem;
        text-align: center;
        color: var(--gray); 
    }

    .photo-upload-placeholder i {
        font-size: 2rem;
        color: var(--primary);
        margin-bottom: 0.5rem;
    }
     .photo-upload-placeholder small {
        font-size: 0.8rem;
    }


    .photo-upload-placeholder.hidden { 
        display: none;
    }

    .photo-delete {
        position: absolute;
        top: 5px;
        right: 5px;
        background: rgba(255, 255, 255, 0.9);
        border: none;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        display: none; 
        align-items: center;
        justify-content: center;
        cursor: pointer;
        color: #ff4444; 
        font-size: 1rem;
        z-index: 1; 
        box-shadow: 0 1px 3px rgba(0,0,0,0.2); 
    }
    
    .photo-delete:hover {
        background: #ff4444;
        color: white;
    }

    .rating-stars { 
        display: inline-flex; 
        gap: 0.25rem;
        font-size: 1.5rem; 
        color: #ffd700; 
        cursor: pointer;
    }
     .rating-stars i { 
        transition: transform 0.2s, color 0.2s; 
        color: var(--gray); 
    }
    .rating-stars i.fas, 
    .rating-stars i.active { 
        color: #ffd700; 
    }

    .rating-stars i:hover {
        transform: scale(1.2);
    }


    .landlord-rating { 
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin: 0.5rem 0;
    }
    .landlord-rating .stars-display {
        color: #ffd700;
        font-size: 1.1rem;
    }

    .landlord-rating .rating-value { 
        font-weight: bold;
        color: var(--dark);
    }

    .reviews-section {
        margin-top: 2rem;
        padding-top: 2rem;
        border-top: 1px solid #eee;
    }
     .reviews-section .section-header { 
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
    }


    .review-card {
        background: white;
        padding: 1.5rem;
        border-radius: 8px;
        margin-bottom: 1rem;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }

    .review-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
    }

    .reviewer-info {
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .reviewer-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: var(--primary);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 1rem; 
    }

    .reviewer-name {
        font-weight: 500;
    }

    .review-date {
        color: var(--gray);
        font-size: 0.9rem;
    }

    .review-rating { 
        color: #ffd700;
    }

    .review-content {
        color: var(--dark);
        line-height: 1.6;
    }

    .write-review-btn {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        margin-top: 1rem;
        padding: 0.5rem 1rem;
        border: 1px solid var(--primary);
        border-radius: 4px;
        color: var(--primary);
        background: white;
        cursor: pointer;
        transition: all 0.3s;
    }

    .write-review-btn:hover {
        background: var(--primary);
        color: white;
    }
    
    .remove-photo { 
        position: absolute;
        top: -10px; 
        right: -10px;
        background: white;
        border-radius: 50%;
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        color: #ff4444; 
    }
    
    .dashboard-content { 
        max-width: 1200px; 
        padding: 2rem;
    }

    .dashboard-overview {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
        gap: 1.5rem;
        margin-bottom: 2rem;
    }

    .overview-card {
        background: white;
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        display: flex;
        align-items: center;
        gap: 1.5rem;
    }

    .overview-icon {
        width: 60px;
        height: 60px;
        background: var(--primary);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        color: white;
    }

    .overview-details h3 {
        font-size: 1rem;
        color: var(--gray);
        margin-bottom: 0.5rem;
        font-weight: 500; 
    }

    .overview-details .amount {
        font-size: 1.8rem;
        font-weight: bold;
        color: var(--dark);
        margin-bottom: 0.25rem;
    }

    .trend {
        font-size: 0.9rem;
        color: var(--gray);
    }

    .trend.positive {
        color: #28a745; 
    }

    .trend.negative {
        color: #dc3545; 
    }

    .analytics-section {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); 
        gap: 1.5rem;
        margin-bottom: 2rem;
    }

    .analytics-card {
        background: white;
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .analytics-card h3 {
        margin-bottom: 1rem;
        color: var(--dark);
        font-size: 1.2rem; 
    }
    .analytics-card canvas {
        max-width: 100%;
        height: auto !important; 
    }


    .recent-activity {
        background: white;
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
     .recent-activity h3 {
        font-size: 1.2rem;
        color: var(--dark);
    }


    .activity-list {
        margin-top: 1rem;
    }

    .activity-item {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem 0;
        border-bottom: 1px solid #eee;
    }

    .activity-item:last-child {
        border-bottom: none;
    }

    .activity-item i { 
        font-size: 1.2rem;
        color: var(--primary); 
        width: 30px; 
        text-align: center;
    }
     .activity-item .fa-check-circle { color: #28a745; } 
     .activity-item .fa-user-plus { color: var(--secondary); } 
     .activity-item .fa-tools { color: #ffc107; } 


    .activity-details {
        flex: 1;
    }

    .activity-details p {
        margin-bottom: 0.25rem;
        color: var(--dark);
    }

    .activity-details span { 
        font-size: 0.9rem;
        color: var(--gray);
    }

    .activity-item .amount { 
        font-weight: bold;
    }
    
    .checkbox-label { 
        display: flex;
        align-items: center;
        gap: 0.5rem;
        cursor: pointer;
        margin: 1rem 0;
        font-size: 0.9rem; 
        color: var(--dark);
    }

    .checkbox-label input[type="checkbox"] {
        width: auto; 
        margin: 0;
        cursor: pointer;
        accent-color: var(--primary); 
    }

    .checkbox-label a {
        color: var(--primary);
        text-decoration: none;
    }

    .checkbox-label a:hover {
        text-decoration: underline;
    }
    
    .password-requirements {
        font-size: 0.8rem;
        color: var(--gray);
        margin-top: 0.5rem;
        padding-left: 1rem;
    }
    .password-requirements ul {
        list-style: disc;
        padding-left: 1rem;
    }
     .password-requirements li.valid { color: #28a745; } 
     .password-requirements li.invalid { color: #dc3545; } 

    .other-university {
        margin-top: 0.5rem;
    }
    .other-university input { 
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 1rem;
        margin-top: 0.25rem;
    }

  </style>
</head>
<body> 
  <header>
    <div class="container">
      <nav>
        <div class="logo">
          <span class="in">In</span><span class="rent">Rent</span>
        </div>
        <ul class="nav-links">
          <li><a href="#home">Home</a></li>
          <li><a href="#features">Features</a></li>
          <li><a href="#pricing">Pricing</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
        <div class="auth-buttons">
          <button class="btn btn-secondary" id="headerLoginBtn">Login</button>
          <button class="btn btn-primary" id="headerSignupBtn">Sign Up</button>
        </div>
        <button class="mobile-menu-btn"><i class="fas fa-bars"></i></button> 
      </nav>
    </div>
  </header>

  <main>
    <section id="home" class="hero"> 
      <div class="container hero-content"> 
        <h1 class="animate animated-hero-title">Your Student Housing Marketplace</h1>
        <p class="animate animated-hero-text">InRent is the premier marketplace connecting students with trusted landlords. Find your perfect student accommodation or list your properties to reach verified student tenants. Experience hassle-free student housing today.</p>
        <div class="hero-buttons animate">
            <button class="btn open-modal" data-modal="signup-options">Get Started Free</button>
          <button class="btn btn-secondary open-modal" data-modal="demo">Watch Demo</button>
        </div>
      </div>
    </section>

    <section id="features" class="section">
      <div class="container">
        <div class="section-title">
          <h2 class="animate">Key Features</h2>
          <p class="animate">Discover how InRent makes property management easier</p>
        </div>
        <div class="features">
          <div class="feature-card animate">
            <div class="feature-icon"><i class="fas fa-search-location"></i></div>
            <h3>Smart Tenant Portal</h3>
            <p>Give tenants a dedicated app to pay rent, submit maintenance requests, and communicate efficiently.</p>
          </div>
          <div class="feature-card animate">
            <div class="feature-icon"><i class="fas fa-comments-dollar"></i></div>
            <h3>Automated Rent Collection</h3>
            <p>Set up automatic payment processing, late fee calculation, and customized payment schedules.</p>
          </div>
          <div class="feature-card animate">
            <div class="feature-icon"><i class="fas fa-chart-line"></i></div>
            <h3>Reporting & Analytics</h3>
            <p>Gain valuable insights with financial reports, occupancy trends, and property performance metrics.</p>
          </div>
        </div>
      </div>
    </section>

    <section id="how-it-works" class="section how-it-works">
      <div class="container">
        <div class="section-title">
          <h2 class="animate">How It Works</h2>
          <p class="animate">Simple steps to get started with InRent</p>
        </div>
        
        <div class="user-section"> 
            <h3 class="section-subtitle">For Tertiary Students</h3>
            <div class="steps">
                <div class="step animate">
                    <div class="step-number">1</div>
                    <h3>Register & Verify</h3>
                    <p>Create your student account and verify with your student ID for a one-time fee of $2.</p>
                </div>
                <div class="step animate">
                    <div class="step-number">2</div>
                    <h3>Browse Listings</h3>
                    <p>Search through verified properties with detailed information and safety ratings.</p>
                </div>
                <div class="step animate">
                    <div class="step-number">3</div>
                    <h3>Connect & View</h3>
                    <p>Message landlords directly and schedule property viewings through the platform.</p>
                </div>
            </div>
        </div>
         </div>
    </section>


    <section class="section product-demo">
      <div class="container">
        <div class="section-title">
          <h2 class="animate">See InRent in Action</h2>
          <p class="animate">Watch how our solution streamlines rental management in minutes</p>
        </div>
        <div class="demo-video animate open-modal" data-modal="demo">
            <img src="https://placehold.co/800x450/228B22/ffffff?text=InRent+Demo" alt="Product demo video placeholder" />
          <div class="demo-overlay">
            <div class="play-button"></div>
          </div>
        </div>
      </div>
    </section>

    <section id="pricing" class="section">
      <div class="container">
        <div class="section-title">
            <h2 class="animate">Join InRent Community</h2>
            <p class="animate">Access quality student housing and reach verified tenants</p>
        </div>
            <div class="membership-options">
                <div class="membership-card student-card animate">
                    <div class="membership-icon">
                        <i class="fas fa-user-graduate"></i>
                    </div>
                    <h3>Student Access</h3>
                    <div class="price">$2 <span>/once-off</span></div>
                    <p>Get unlimited access to verified student accommodations</p>
                    <ul class="membership-features">
                        <li>View all property listings</li>
                        <li>Direct message landlords</li>
                        <li>Save favorite properties</li>
                        <li>Get notified of new listings</li>
                        <li>Schedule property viewings</li>
                    </ul>
                    <button class="btn open-modal" data-modal="student-signup">Sign Up Now</button>
                </div>
                 <div class="membership-card landlord-card animate">
                    <div class="special-offer">Limited Spots!</div>
                    <div class="membership-icon">
                        <i class="fas fa-building"></i>
                    </div>
                    <h3>Landlord Pro</h3>
                    <div class="price">$10 <span>/month</span></div>
                    <p>List unlimited properties and access premium features.</p>
                    <ul class="membership-features">
                        <li>Unlimited Property Listings</li>
                        <li>Verified Tenant Matching</li>
                        <li>Advanced Analytics</li>
                        <li>Priority Support</li>
                        <li>Lease Management Tools</li>
                    </ul>
                    <div class="spots-left">Only <span id="landlordsLeft">10</span> spots left at this price!</div>
                    <button class="btn open-modal" data-modal="landlord-signup">Become a Landlord</button>
                </div>
            </div>
      </div>
    </section>

    <section id="testimonials" class="section testimonials">
        <div class="container">
            <div class="section-title">
                <h2 class="animate">What Our Users Say</h2>
                <p class="animate">Real feedback from students and landlords.</p>
            </div>
            <div class="testimonial-container">
                <div class="testimonial-slider">
                    <div class="testimonial active">
                        <img src="https://placehold.co/80x80/cccccc/333333?text=User1" alt="User 1">
                        <p>"InRent made finding accommodation near UB so easy! The verification process gave me peace of mind."</p>
                        <div class="testimonial-name">Thato M.</div>
                        <div class="testimonial-position">Student, University of Botswana</div>
                    </div>
                    <div class="testimonial">
                        <img src="https://placehold.co/80x80/bbbbbb/333333?text=User2" alt="User 2">
                        <p>"Listing my property was straightforward, and I quickly found reliable student tenants. Highly recommend!"</p>
                        <div class="testimonial-name">Mr. Johnson K.</div>
                        <div class="testimonial-position">Landlord, Gaborone</div>
                    </div>
                    <div class="testimonial">
                        <img src="https://placehold.co/80x80/aaaaaa/333333?text=User3" alt="User 3">
                        <p>"The direct messaging feature is great for communicating with landlords and scheduling viewings."</p>
                        <div class="testimonial-name">Lerato S.</div>
                        <div class="testimonial-position">Student, BA ISAGO University</div>
                    </div>
                </div>
                <div class="arrow-controls">
                    <button class="arrow-btn prev-btn" id="prevTestimonial"><i class="fas fa-chevron-left"></i></button>
                    <button class="arrow-btn next-btn" id="nextTestimonial"><i class="fas fa-chevron-right"></i></button>
                </div>
                <div class="testimonial-controls">
                    <span class="control-dot active"></span>
                    <span class="control-dot"></span>
                    <span class="control-dot"></span>
                </div>
            </div>
        </div>
    </section>

    <section class="section cta">
        <div class="container">
            <h2 class="animate">Ready to Find Your Perfect Match?</h2>
            <p class="animate">Whether you're a student looking for a home or a landlord seeking tenants, InRent is your trusted partner.</p>
            <div class="newsletter animate">
                <input type="email" placeholder="Enter your email for updates" id="newsletterEmail">
                <button class="btn" id="subscribeBtn">Subscribe</button>
            </div>
            <div class="success-message" id="newsletterSuccess">Thank you for subscribing!</div>
        </div>
    </section>


    <section class="section contact-section" id="contact"> 
      <div class="container">
            <div class="section-title">
                <h2>Contact Us</h2>
                <p>Get in touch with us for any questions or support</p>
            </div>
            <div class="contact-info" style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 1rem;">
                <div class="contact-item" style="text-align: center;">
                    <i class="fas fa-envelope" style="font-size: 2rem; color: var(--primary); margin-bottom: 0.5rem;"></i>
                    <h3>Email</h3>
                    <p><a href="mailto:Lethaboswereki029@gmail.com" style="color: var(--dark); text-decoration:none;">Lethaboswereki029@gmail.com</a></p>
                </div>
                <div class="contact-item" style="text-align: center;">
                    <i class="fas fa-phone" style="font-size: 2rem; color: var(--primary); margin-bottom: 0.5rem;"></i>
                    <h3>Phone</h3>
                    <p><a href="tel:+26776068664" style="color: var(--dark); text-decoration:none;">+267 76068664</a></p>
                </div>
                 <div class="contact-item" style="text-align: center;">
                    <i class="fas fa-map-marker-alt" style="font-size: 2rem; color: var(--primary); margin-bottom: 0.5rem;"></i>
                    <h3>Address</h3>
                    <p>Plot 123, Gaborone, Botswana (Example)</p>
                </div>
            </div>
             <div style="text-align: center; margin-top: 2rem;">
                <button class="btn open-modal" data-modal="contact-form-modal">Send Us a Message</button>
            </div>
        </div>
    </section>
</main>

<footer>
    <div class="container">
        <div class="footer-content">
            <div class="footer-about">
                <h3><span class="in">In</span><span class="rent">Rent</span></h3>
                <p>InRent is Botswana's leading student accommodation marketplace, bringing together students and landlords in one trusted platform. We simplify the process of finding and managing student housing while ensuring a safe and reliable experience for both parties.</p>
                 <div class="social-links">
                    <a href="#" class="social-link" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="social-link" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="social-link" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-link" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
            <div class="footer-links">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#how-it-works">How It Works</a></li>
                    <li><a href="#pricing">Pricing</a></li>
                    <li><a href="#testimonials">Testimonials</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
            <div class="footer-links">
                <h3>Support</h3>
                <ul>
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">Help Center</a></li>
                    <li><a href="#">Terms of Service</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                </ul>
            </div>
             <div class="footer-links">
                <h3>For Students</h3>
                <ul>
                    <li><a href="#" class="open-modal" data-modal="property-listings">Browse Accommodations</a></li>
                    <li><a href="#">Safety Tips</a></li>
                    <li><a class="open-modal" data-modal="student-signup" style="cursor:pointer;">Student Signup</a></li>
                </ul>
                <h3>For Landlords</h3>
                 <ul>
                    <li><a href="#" class="open-modal" data-modal="add-listing-modal">List Your Property</a></li>
                    <li><a href="#">Landlord Guidelines</a></li>
                    <li><a class="open-modal" data-modal="landlord-signup" style="cursor:pointer;">Landlord Signup</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>© <span id="currentYear"></span> InRent. All rights reserved.</p>
        </div>
    </div>
</footer>

<div class="modal" id="contact-form-modal">
    <div class="modal-content">
        <span class="modal-close">×</span>
        <h2>Send Us a Message</h2>
        <form class="contact-form" id="mainContactForm">
            <div class="form-group">
                <label for="contactName">Name</label>
                <input type="text" id="contactName" name="name" required>
            </div>
            <div class="form-group">
                <label for="contactEmail">Email</label>
                <input type="email" id="contactEmail" name="email" required>
            </div>
            <div class="form-group full">
                <label for="contactSubject">Subject</label>
                <input type="text" id="contactSubject" name="subject" required>
            </div>
            <div class="form-group full">
                <label for="contactMessage">Message</label>
                <textarea id="contactMessage" name="message" required rows="4"></textarea>
            </div>
            <button type="submit" class="btn full">Send Message</button>
        </form>
        <div class="success-message" id="contactFormSuccess" style="text-align:center; margin-top:1rem;"></div>
    </div>
</div>

<div class="modal" id="demo">
    <div class="modal-content" style="max-width: 800px;">
        <span class="modal-close">×</span>
        <h2>Watch Demo</h2>
        <div class="demo-video" style="aspect-ratio: 16 / 9; background-color: #000;">
            <iframe width="100%" height="100%" src="https://www.youtube.com/embed/dQw4w9WgXcQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </div>
</div>

<div class="modal" id="login">
    <div class="modal-content" style="max-width: 500px;">
        <span class="modal-close">×</span>
        <h2>Login to InRent</h2>
         <div class="login-options">
            <button class="login-option-btn active" data-form="studentLoginForm">
                <i class="fas fa-user-graduate"></i> Student
            </button>
            <button class="login-option-btn" data-form="landlordLoginForm">
                <i class="fas fa-building"></i> Landlord
            </button>
        </div>
        
        <form class="login-form" id="studentLoginForm">
            <div class="form-group">
                <label for="studentLoginEmail">Student Email</label>
                <input type="email" id="studentLoginEmail" name="email" required placeholder="Enter your student email">
            </div>
            <div class="form-group">
                <label for="studentLoginPassword">Password</label>
                <input type="password" id="studentLoginPassword" name="password" required placeholder="Enter your password">
            </div>
            <div class="form-group" style="display:flex; justify-content:space-between; align-items:center;">
                <label class="checkbox-label" style="margin:0;">
                    <input type="checkbox" name="remember"> Remember me
                </label>
                <a href="#" style="font-size:0.9rem; color:var(--primary);">Forgot Password?</a>
            </div>
            <button type="submit" class="btn" style="width:100%;">Login as Student</button>
            <p class="form-footer">Don't have an account? <a href="#" class="switch-to-signup" data-modal="student-signup">Sign up as Student</a></p>
        </form>

        <form class="login-form" id="landlordLoginForm" style="display: none;">
            <div class="form-group">
                <label for="landlordLoginEmail">Email Address</label>
                <input type="email" id="landlordLoginEmail" name="email" required placeholder="Enter your email">
            </div>
            <div class="form-group">
                <label for="landlordLoginPassword">Password</label>
                <input type="password" id="landlordLoginPassword" name="password" required placeholder="Enter your password">
            </div>
             <div class="form-group" style="display:flex; justify-content:space-between; align-items:center;">
                <label class="checkbox-label" style="margin:0;">
                    <input type="checkbox" name="remember"> Remember me
                </label>
                <a href="#" style="font-size:0.9rem; color:var(--primary);">Forgot Password?</a>
            </div>
            <button type="submit" class="btn" style="width:100%;">Login as Landlord</button>
            <p class="form-footer">Don't have an account? <a href="#" class="switch-to-signup" data-modal="landlord-signup">Sign up as Landlord</a></p>
        </form>
    </div>
</div>

<div class="modal student-modal" id="student-signup">
    <div class="modal-content">
        <span class="modal-close">×</span>
        <h2>Student Sign Up</h2>
        <form id="studentSignupForm">
            <div class="signup-step active" id="studentSignupStep1">
                <div class="form-group">
                    <label for="studentName">Full Name</label>
                    <input type="text" id="studentName" name="name" required placeholder="Enter your full name">
                </div>
                <div class="form-group">
                    <label for="studentEmail">Student Email</label>
                    <input type="email" id="studentEmail" name="email" required placeholder="Enter your student email">
                </div>
                <div class="form-group">
                    <label for="studentPassword">Password</label>
                    <input type="password" id="studentPassword" name="password" required placeholder="Create a password">
                    <div class="password-requirements">
                        <ul>
                            <li id="lengthReq">At least 8 characters</li>
                            <li id="upperReq">At least one uppercase letter</li>
                            <li id="numReq">At least one number</li>
                            <li id="specialReq">At least one special character</li>
                        </ul>
                    </div>
                </div>
                <div class="form-group">
                    <label for="tertiarySchool">Tertiary Institution</label>
                    <select id="tertiarySchool" name="school" required>
                        <option value="">Select your institution</option>
                        <option value="ub">University of Botswana</option>
                        <option value="baisago">Baisago University</option>
                        <option value="botho">Botho University</option>
                        <option value="limkokwing">Limkokwing University</option>
                        <option value="bac">Botswana Accountancy College</option>
                        <option value="biust">Botswana Int'l Uni of Sci & Tech</option>
                        <option value="other">Other</option>
                    </select>
                    <div id="otherStudentUniversity" class="other-university" style="display: none;">
                        <input type="text" id="otherStudentUniversityName" name="otherStudentUniversityName" placeholder="Please specify your university">
                    </div>
                </div>
                <div class="form-group">
                    <label for="studentId">Student ID</label>
                    <input type="text" id="studentId" name="studentId" required placeholder="Enter your student ID">
                </div>
                <div class="form-group">
                    <label for="studentPhone">Mobile Number (Botswana)</label>
                    <input type="tel" id="studentPhone" name="phone" pattern="[72][0-9]{7}" placeholder="e.g., 71234567" required maxlength="8">
                    <small>Format: 7XXXXXXX or 2XXXXXXX (8 digits)</small>
                </div>
                <button type="button" class="btn" id="studentNextBtn">Next</button>
            </div>
            
            <div class="verification-step" id="studentVerificationStep">
                <h3>Verify Your Email</h3>
                <p>We've sent a verification code to <strong id="studentVerificationEmailDisplay">your email</strong>. Please enter it below:</p>
                <div class="verification-code">
                    <input type="text" maxlength="1" pattern="[0-9]" required>
                    <input type="text" maxlength="1" pattern="[0-9]" required>
                    <input type="text" maxlength="1" pattern="[0-9]" required>
                    <input type="text" maxlength="1" pattern="[0-9]" required>
                    <input type="text" maxlength="1" pattern="[0-9]" required>
                    <input type="text" maxlength="1" pattern="[0-9]" required>
                </div>
                <div class="resend-code">
                    <button type="button" id="studentResendCode" disabled>Resend Code</button>
                    <div class="timer">Time remaining: <span id="studentTimer">60</span>s</div>
                </div>
                <button type="submit" class="btn">Verify & Sign Up</button>
            </div>
        </form>
    </div>
</div>

<div class="modal" id="welcome-message" style="text-align:center;">
    <div class="modal-content">
        <span class="modal-close">×</span>
        <h2>Welcome to InRent!</h2>
        <div class="welcome-content">
            <i class="fas fa-check-circle" style="color: var(--primary); font-size: 4rem; margin-bottom: 1rem;"></i>
            <p>Your account has been successfully created!</p>
            <p>We're excited to help you find the perfect accommodation near your institution.</p>
            <button class="btn open-modal" data-modal="property-listings" id="viewListingsBtnWelcome">View Available Properties</button>
        </div>
    </div>
</div>

<div class="modal" id="property-listings" style="z-index: 1001;"> 
    <div class="modal-content" style="max-width: 900px;">
        <span class="modal-close">×</span>
        <h2>Available Properties</h2>
        <div class="listings-filters">
            <div class="form-group">
                <label for="filterLocation">Location (Near)</label>
                <select id="filterLocation">
                    <option value="all">All Locations</option>
                    </select>
            </div>
            <div class="form-group">
                <label for="filterPriceRange">Price Range (P/month)</label>
                <select id="filterPriceRange">
                    <option value="all">All Prices</option>
                    <option value="0-2000">0 - 2,000</option>
                    <option value="2001-4000">2,001 - 4,000</option>
                    <option value="4001-6000">4,001 - 6,000</option>
                    <option value="6000+">6,000+</option>
                </select>
            </div>
            <div class="form-group">
                <label for="filterPropertyType">Property Type</label>
                <select id="filterPropertyType">
                    <option value="all">All Types</option>
                    <option value="apartment">Apartment</option>
                    <option value="house">House</option>
                    <option value="studio">Studio</option>
                    <option value="room">Shared Room</option>
                </select>
            </div>
             <div class="form-group">
                <label for="filterBedrooms">Bedrooms</label>
                <select id="filterBedrooms">
                    <option value="all">Any</option>
                    <option value="1">1 Bedroom</option>
                    <option value="2">2 Bedrooms</option>
                    <option value="3">3+ Bedrooms</option>
                </select>
            </div>
        </div>
        <div class="property-listings-container" style="max-height: 60vh; overflow-y: auto;">
            <p id="noListingsMessage" style="text-align:center; color:var(--gray); padding: 2rem; display:none;">No properties match your current filters. Try adjusting your search.</p>
        </div>
    </div>
</div>

<div class="modal" id="signup-options">
    <div class="modal-content" style="max-width: 700px;">
        <span class="modal-close">×</span>
        <h2>Join InRent Today</h2>
        <p class="text-center" style="color: var(--gray); margin-bottom: 2rem;">Choose your account type to get started</p>
        <div class="signup-options">
            <button class="signup-option-btn open-modal" data-modal="student-signup">
                <i class="fas fa-user-graduate"></i>
                <h3>Student</h3>
                <p>Looking for accommodation?</p>
                <ul class="option-features">
                    <li>Find verified student housing</li>
                    <li>Easy booking process</li>
                    <li>Direct contact with landlords</li>
                </ul>
            </button>
            <button class="signup-option-btn open-modal" data-modal="landlord-signup">
                <i class="fas fa-building"></i>
                <h3>Landlord</h3>
                <p>Have property to rent?</p>
                 <ul class="option-features">
                    <li>List your properties easily</li>
                    <li>Reach verified students</li>
                    <li>Manage bookings efficiently</li>
                </ul>
            </button>
        </div>
    </div>
</div>

<div class="modal" id="landlord-signup">
    <div class="modal-content" style="max-width: 600px;">
        <span class="modal-close">×</span>
        <h2>Landlord Sign Up</h2>
        <form id="landlordSignupForm">
            <div class="signup-step active" id="landlordSignupStep1">
                <div class="form-group">
                    <label for="landlordFullName">Full Name</label>
                    <input type="text" id="landlordFullName" name="fullName" required>
                </div>
                <div class="form-group">
                    <label for="landlordEmail">Email Address</label>
                    <input type="email" id="landlordEmail" name="email" required>
                </div>
                <div class="form-group">
                    <label for="landlordPhone">Mobile Number (Botswana)</label>
                    <input type="tel" id="landlordPhone" name="phone" pattern="[72][0-9]{7}" placeholder="e.g., 71234567" required maxlength="8">
                </div>
                <div class="form-group">
                    <label for="landlordLocation">Primary Location of Properties</label>
                    <select id="landlordLocation" name="location" required>
                        <option value="">Select location</option>
                        <option value="gaborone">Gaborone</option>
                        <option value="francistown">Francistown</option>
                        <option value="maun">Maun</option>
                        <option value="palapye">Palapye</option>
                        <option value="serowe">Serowe</option>
                        <option value="molepolole">Molepolole</option>
                        <option value="kanye">Kanye</option>
                        <option value="mahalapye">Mahalapye</option>
                        <option value="mochudi">Mochudi</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="landlordPassword">Password</label>
                    <input type="password" id="landlordPassword" name="password" required>
                     </div>
                <div class="form-group">
                    <label for="landlordConfirmPassword">Confirm Password</label>
                    <input type="password" id="landlordConfirmPassword" name="confirmPassword" required>
                </div>
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="landlordTerms" name="terms" required>
                        I agree to the <a href="#" target="_blank">Terms of Service</a> and <a href="#" target="_blank">Privacy Policy</a>
                    </label>
                </div>
                <div class="form-group">
                    <label>Choose Verification Method</label>
                    <div style="display:flex; gap:1rem;">
                        <label class="checkbox-label"><input type="radio" name="landlordVerificationMethod" value="email" checked> Email</label>
                        <label class="checkbox-label"><input type="radio" name="landlordVerificationMethod" value="phone"> Phone</label>
                    </div>
                </div>
                <button type="button" class="btn" id="landlordNextBtn">Next</button>
            </div>
            
            <div class="verification-step" id="landlordVerificationStep">
                <h3 id="landlordVerificationHeading">Verify Your Account</h3>
                <p id="landlordVerificationText">We've sent a verification code. Please enter it below:</p>
                <div class="verification-code" id="landlordVerificationCodeInputs">
                    <input type="text" maxlength="1" pattern="[0-9]" required>
                    <input type="text" maxlength="1" pattern="[0-9]" required>
                    <input type="text" maxlength="1" pattern="[0-9]" required>
                    <input type="text" maxlength="1" pattern="[0-9]" required>
                    <input type="text" maxlength="1" pattern="[0-9]" required>
                    <input type="text" maxlength="1" pattern="[0-9]" required>
                </div>
                <div class="resend-code">
                    <button type="button" id="landlordResendCode" disabled>Resend Code</button>
                    <div class="timer">Time remaining: <span id="landlordTimer">60</span>s</div>
                </div>
                <button type="submit" class="btn">Verify & Sign Up</button>
            </div>
        </form>
    </div>
</div>

<div class="modal payment-modal" id="payment-modal">
    <div class="modal-content">
        <span class="modal-close">×</span>
        <h2>Complete Your Student Registration</h2>
        <p style="text-align:center; color:var(--gray);">A one-time payment is required to access all student features and ensure a secure community.</p>
        
        <div class="payment-details">
            <div class="payment-amount">P20.00 <span style="font-size:1rem; color:var(--gray)">(approx $2.00)</span></div>
            <form id="payment-form" class="payment-form">
                <div class="form-group">
                    <label for="card-name">Cardholder Name</label>
                    <input type="text" id="card-name" required placeholder="Name on card">
                </div>
                <div class="form-group">
                    <label for="card-number">Card Number</label>
                    <input type="text" id="card-number" required placeholder="0000 0000 0000 0000" maxlength="19">
                </div>
                <div class="form-group card-input">
                    <div>
                        <label for="card-expiry">Expiry Date</label> 
                        <input type="text" id="card-expiry" name="expiry" required placeholder="MM/YY" maxlength="5">
                    </div>
                    <div>
                        <label for="card-cvv">CVV</label>
                        <input type="text" id="card-cvv" name="cvv" required placeholder="123" maxlength="4">
                    </div>
                </div>
                <button type="submit" class="btn" style="width:100%;">Pay P20.00</button>
                <p style="font-size:0.8rem; text-align:center; margin-top:1rem; color:var(--gray);">
                    <i class="fas fa-lock"></i> Secure Payment via Stripe (Example Gateway)
                </p>
            </form>
        </div>
    </div>
</div>

<div class="modal add-listing-modal" id="add-listing-modal">
    <div class="modal-content">
        <span class="modal-close">×</span>
        <h2>Add New Property Listing</h2>
        <p>Please provide the required documentation and property details. Ensure all information is accurate.</p>
        
        <form id="addListingForm">
            <div class="form-group">
                <label>Property Photos (Required - Min. 3 photos, Max 5MB each)</label>
                <div class="photo-upload-container">
                    <div class="photo-upload-grid" id="photoUploadGrid">
                        <label class="photo-upload-item">
                            <input type="file" accept="image/*" multiple data-max-files="5">
                            <div class="photo-upload-placeholder">
                                <i class="fas fa-camera"></i>
                                <small>Add Photos (up to 5)</small>
                            </div>
                        </label>
                        </div>
                     <div id="photoPreviewContainer" class="photo-upload-grid" style="margin-top:1rem;"></div>
                </div>
            </div>

            <div class="form-group">
                <label>National ID/Passport (Landlord Verification)</label>
                <div class="document-upload" id="idUpload">
                    <i class="fas fa-id-card"></i>
                    <p>Click to upload ID or Passport</p>
                    <small>Supported: JPG, PNG, PDF (Max 5MB)</small>
                    <input type="file" hidden accept=".jpg,.jpeg,.png,.pdf" required>
                    <div class="upload-preview"><i class="fas fa-check-circle"></i> <span class="filename"></span></div>
                </div>
            </div>

            <div class="form-group">
                <label>Property Title Deed / Proof of Ownership</label>
                <div class="document-upload" id="deedUpload">
                    <i class="fas fa-file-alt"></i>
                    <p>Click to upload Title Deed</p>
                    <small>Supported: JPG, PNG, PDF (Max 5MB)</small>
                    <input type="file" hidden accept=".jpg,.jpeg,.png,.pdf" required>
                    <div class="upload-preview"><i class="fas fa-check-circle"></i> <span class="filename"></span></div>
                </div>
            </div>
            <hr style="margin: 1.5rem 0;">

            <div class="form-group">
                <label for="listingTitle">Property Title</label>
                <input type="text" id="listingTitle" placeholder="e.g., Cozy 2-Bedroom near UB" required>
            </div>
             <div class="form-group">
                <label for="listingAddress">Full Property Address</label>
                <input type="text" id="listingAddress" placeholder="e.g., Plot 123, Main Mall, Gaborone" required>
            </div>


            <div class="form-group">
                <label for="listingDescription">Property Description</label>
                <textarea id="listingDescription" rows="4" placeholder="Describe your property, its features, and nearby amenities..."></textarea>
            </div>

            <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:1rem;">
                <div class="form-group">
                    <label for="listingPrice">Monthly Rent (BWP)</label>
                    <input type="number" id="listingPrice" placeholder="e.g., 3500" required min="0">
                </div>
                <div class="form-group">
                    <label for="listingBedrooms">Number of Bedrooms</label>
                    <select id="listingBedrooms" required>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5+">5+</option>
                        <option value="studio">Studio</option>
                        <option value="room">Single Room (Shared)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="listingBathrooms">Number of Bathrooms</label>
                     <select id="listingBathrooms" required>
                        <option value="1">1</option>
                        <option value="1.5">1.5</option>
                        <option value="2">2</option>
                        <option value="2.5">2.5</option>
                        <option value="3+">3+</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label>Amenities (Type and press Enter, or select common ones)</label>
                <input type="text" id="amenityInput" placeholder="e.g., WiFi, Air Conditioning, Parking">
                <div class="amenities-tags" id="amenitiesList"></div>
                </div>

            <div class="form-group">
                <label>House Condition (1=Poor, 10=Excellent)</label>
                <div class="rating-group">
                    <input type="range" class="rating-slider" min="1" max="10" value="7" id="conditionRating">
                    <span class="rating-value" id="conditionValue">7</span>
                </div>
            </div>

            <div class="form-group">
                <label>Location Safety (1=Low, 10=High)</label>
                <div class="rating-group">
                    <input type="range" class="rating-slider" min="1" max="10" value="7" id="safetyRating">
                    <span class="rating-value" id="safetyValue">7</span>
                </div>
            </div>
             <div class="form-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="listingTerms" required>
                    I confirm that all information provided is accurate and I have the right to list this property.
                </label>
            </div>

            <button type="submit" class="btn" style="width:100%;">Submit Listing for Review</button>
        </form>
    </div>
</div>

<div class="modal" id="landlord-dashboard">
    <div class="modal-content dashboard-content">
        <span class="modal-close">×</span>
        <h2>Landlord Dashboard</h2>
        
        <div class="dashboard-overview">
            <div class="overview-card">
                <div class="overview-icon"><i class="fas fa-dollar-sign"></i></div>
                <div class="overview-details">
                    <h3>Total Earnings (Month)</h3>
                    <p class="amount">P12,500</p>
                    <span class="trend positive">+P1,200 vs last month</span>
                </div>
            </div>
            <div class="overview-card">
                <div class="overview-icon"><i class="fas fa-home"></i></div>
                <div class="overview-details">
                    <h3>Active Listings</h3>
                    <p class="amount">4</p>
                    <span class="trend">1 Pending Review</span>
                </div>
            </div>
            <div class="overview-card">
                <div class="overview-icon"><i class="fas fa-users"></i></div>
                <div class="overview-details">
                    <h3>Tenant Enquiries</h3>
                    <p class="amount">6 New</p>
                    <span class="trend">2 Unread Messages</span>
                </div>
            </div>
        </div>

        <div class="analytics-section">
            <div class="analytics-card">
                <h3>Monthly Income Trend</h3>
                <canvas id="incomeChart"></canvas>
            </div>
            <div class="analytics-card">
                <h3>Property Occupancy</h3>
                <canvas id="propertyChart"></canvas> </div>
        </div>

        <div class="recent-activity">
            <h3>Recent Activity</h3>
            <div class="activity-list">
                <div class="activity-item">
                    <i class="fas fa-check-circle"></i>
                    <div class="activity-details">
                        <p>Rent Payment Received - Thabo, Unit 3B</p>
                        <span>Today, 10:30 AM</span>
                    </div>
                    <span class="amount positive" style="margin-left:auto;">+P3,500</span>
                </div>
                <div class="activity-item">
                    <i class="fas fa-user-plus"></i>
                    <div class="activity-details">
                        <p>New Tenant Application - Lerato, Unit 2A</p>
                        <span>Yesterday, 2:15 PM</span>
                    </div>
                     <button class="btn btn-sm btn-secondary view-activity-btn" style="margin-left:auto; padding: 0.25rem 0.5rem; font-size:0.8rem;" data-activity="New Tenant Application - Lerato, Unit 2A">View</button>
                </div>
                <div class="activity-item">
                    <i class="fas fa-tools"></i>
                    <div class="activity-details">
                        <p>Maintenance Request - Plumbing, Unit 1C</p>
                        <span>2 days ago</span>
                    </div>
                    <button class="btn btn-sm btn-secondary view-activity-btn" style="margin-left:auto; padding: 0.25rem 0.5rem; font-size:0.8rem; background-color:orange; border-color:orange;" data-activity="Maintenance Request - Plumbing, Unit 1C">View</button>
                </div>
            </div>
        </div>
         <div style="text-align:center; margin-top:2rem;">
             <button class="btn open-modal" data-modal="add-listing-modal">Add New Property</button>
        </div>
    </div>
</div>

<div class="modal" id="review-modal">
    <div class="modal-content" style="max-width: 550px;">
        <span class="modal-close">×</span>
        <h3 id="reviewModalTitle">Write a Review</h3>
        <form id="reviewForm">
            <div class="form-group">
                <label>Your Rating:</label>
                <div class="rating-stars" id="reviewRatingStars">
                    <i class="far fa-star" data-value="1"></i>
                    <i class="far fa-star" data-value="2"></i>
                    <i class="far fa-star" data-value="3"></i>
                    <i class="far fa-star" data-value="4"></i>
                    <i class="far fa-star" data-value="5"></i>
                </div>
                <input type="hidden" name="rating" id="selectedRating" required>
            </div>
            <div class="form-group">
                <label for="reviewText">Your Review:</label>
                <textarea id="reviewText" name="reviewText" rows="5" placeholder="Share your experience..." required></textarea>
            </div>
            <button type="submit" class="btn" style="width:100%;">Submit Review</button>
             <div class="success-message" id="reviewFormSuccess" style="text-align:center; margin-top:1rem;"></div>
        </form>
    </div>
</div>


<div class="chat-widget" id="chatWidget">
    <div class="chat-header" id="chatHeader">
        <h3><i class="fas fa-comments"></i> InRent Support</h3>
        <button class="chat-toggle" id="chatToggle"><i class="fas fa-chevron-up"></i></button>
    </div>
    <div class="chat-body" style="display:flex; flex-direction:column; flex-grow:1; max-height: calc(100% - 60px); overflow:hidden;">
        <div class="chat-contacts" id="chatContacts">
            <div class="chat-contact active" data-contact-id="support">
                <div class="contact-avatar" style="background-color: var(--secondary);">S</div>
                <div class="contact-info">
                    <div class="contact-name">Support Team</div>
                    <div class="contact-status"><span class="status-dot online"></span>Online</div>
                </div>
            </div>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="message received">
                <div class="message-content">Welcome to InRent! How can we help you today?</div>
                <div class="message-time">10:30 AM</div>
            </div>
        </div>
        <div class="chat-input">
            <input type="text" id="messageInput" placeholder="Type your message...">
            <button class="send-button" id="sendMessage"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>
</div>


<a href="#" class="back-to-top"><i class="fas fa-arrow-up"></i></a>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// MAIN SCRIPT FILE (main.js)
document.addEventListener('DOMContentLoaded', function() {
    // --- MODAL FUNCTIONALITY ---
    // Cache all modal elements
    const modals = document.querySelectorAll('.modal');
    // Cache all buttons that open modals
    const openModalButtons = document.querySelectorAll('.open-modal');
    // Cache all buttons that close modals
    const closeModalButtons = document.querySelectorAll('.modal-close');

    /**
     * Opens a modal by its ID.
     * @param {string} modalId - The ID of the modal to open.
     */
    function openModal(modalId) {
        const modal = document.getElementById(modalId);
        if (modal) {
            modal.classList.add('active');
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
        } else {
            console.warn(`Modal with ID "${modalId}" not found.`);
        }
    }

    /**
     * Closes an active modal.
     * @param {HTMLElement} modal - The modal element to close.
     */
    function closeModal(modal) {
        if (modal && modal.classList.contains('active')) { // Check if modal is active before trying to close
            modal.classList.remove('active');
            // Restore scroll only if no other modals are active
            const anyActiveModal = Array.from(document.querySelectorAll('.modal.active')).length > 0;
            if (!anyActiveModal) {
                document.body.style.overflow = 'auto';
            }
        }
    }

    // Add event listeners to all "open-modal" buttons
    openModalButtons.forEach(button => {
        button.addEventListener('click', function(e) {
            e.preventDefault();
            const modalId = this.getAttribute('data-modal');
            const parentModal = this.closest('.modal'); // Check if button is inside another modal
            
            // If inside an active modal, close it first before opening the new one
            if (parentModal && parentModal.classList.contains('active')) {
                closeModal(parentModal);
            }
            openModal(modalId);
        });
    });

    // Add event listeners to all "modal-close" buttons
    closeModalButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            closeModal(this.closest('.modal'));
        });
    });

    // Add event listener to close modals when clicking on the backdrop
    modals.forEach(modal => {
        modal.addEventListener('click', function(e) {
            if (e.target === this) { // Check if the click is on the backdrop itself
                closeModal(this);
            }
        });
    });

    // Add event listener to close modals with the Escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === "Escape") {
            const activeModals = document.querySelectorAll('.modal.active');
            if (activeModals.length > 0) {
                closeModal(activeModals[activeModals.length - 1]); // Close the top-most active modal
            }
        }
    });
    
    // --- HEADER AUTH BUTTONS FUNCTIONALITY ---
    // These buttons open specific modals for login or signup choices.
    const headerLoginBtn = document.getElementById('headerLoginBtn');
    const headerSignupBtn = document.getElementById('headerSignupBtn');

    if (headerLoginBtn) {
        // The Login button in the header opens the #login modal.
        // This modal contains tabs to switch between student and landlord login forms.
        headerLoginBtn.addEventListener('click', () => openModal('login'));
    }
    if (headerSignupBtn) {
        // The Sign Up button in the header opens the #signup-options modal.
        // This modal allows the user to choose between student or landlord signup,
        // leading to separate, dedicated signup modals (#student-signup or #landlord-signup).
        headerSignupBtn.addEventListener('click', () => openModal('signup-options'));
    }

    // --- MOBILE MENU ---
    const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
    const navLinks = document.querySelector('header .nav-links');
    if (mobileMenuBtn && navLinks) {
        mobileMenuBtn.addEventListener('click', function() {
            navLinks.classList.toggle('active');
            const icon = mobileMenuBtn.querySelector('i');
            if (icon) {
                icon.classList.toggle('fa-bars');
                icon.classList.toggle('fa-times');
            }
        });
        navLinks.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                if (navLinks.classList.contains('active')) {
                    navLinks.classList.remove('active');
                     const icon = mobileMenuBtn.querySelector('i');
                    if (icon) {
                        icon.classList.remove('fa-times');
                        icon.classList.add('fa-bars');
                    }
                }
            });
        });
    }

    // --- SMOOTH SCROLL FOR NAV LINKS ---
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            const hrefAttribute = this.getAttribute('href');
            if (hrefAttribute && hrefAttribute.length > 1 ) {
                const targetElement = document.querySelector(hrefAttribute);
                if (targetElement) {
                    e.preventDefault();
                    targetElement.scrollIntoView({ behavior: 'smooth' });
                }
            }
        });
    });

    // --- TESTIMONIAL SLIDER ---
    const testimonialSlider = document.querySelector('.testimonial-slider');
    if (testimonialSlider) {
        const testimonials = testimonialSlider.querySelectorAll('.testimonial');
        const dots = document.querySelectorAll('.testimonial-controls .control-dot');
        const prevBtn = document.getElementById('prevTestimonial');
        const nextBtn = document.getElementById('nextTestimonial');
        let currentSlide = 0;
        let testimonialInterval;

        function showSlide(index) {
            if (testimonials.length === 0) return;
            testimonials.forEach((testimonial, i) => {
                testimonial.classList.remove('active', 'prev');
                if (i === index) {
                    testimonial.classList.add('active');
                } else if (i === (index - 1 + testimonials.length) % testimonials.length && testimonials.length > 1) {
                    testimonial.classList.add('prev');
                }
            });
            if (dots.length > 0 && dots[index]) { 
                 dots.forEach(dot => dot.classList.remove('active'));
                 dots[index].classList.add('active');
            }
        }

        function nextSlide() {
            if (testimonials.length === 0) return;
            currentSlide = (currentSlide + 1) % testimonials.length;
            showSlide(currentSlide);
        }
        
        function prevSlide() {
            if (testimonials.length === 0) return;
            currentSlide = (currentSlide - 1 + testimonials.length) % testimonials.length;
            showSlide(currentSlide);
        }

        function startTestimonialInterval() {
            if (testimonials.length > 1) { 
                 testimonialInterval = setInterval(nextSlide, 7000);
            }
        }
        function resetTestimonialInterval() {
            clearInterval(testimonialInterval);
            startTestimonialInterval();
        }

        if (nextBtn) nextBtn.addEventListener('click', () => { nextSlide(); resetTestimonialInterval(); });
        if (prevBtn) prevBtn.addEventListener('click', () => { prevSlide(); resetTestimonialInterval(); });

        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                currentSlide = index;
                showSlide(currentSlide);
                resetTestimonialInterval();
            });
        });
        
        if (testimonials.length > 0) {
            showSlide(currentSlide); 
            startTestimonialInterval();
        }
    }

    // --- ANIMATION ON SCROLL ---
    const animatedElements = document.querySelectorAll('.animate');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('active');
                observer.unobserve(entry.target); 
            }
        });
    }, { threshold: 0.1 }); 

    animatedElements.forEach(el => observer.observe(el));

    // --- BACK TO TOP BUTTON ---
    const backToTopButton = document.querySelector('.back-to-top');
    if (backToTopButton) {
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) { 
                backToTopButton.classList.add('active');
            } else {
                backToTopButton.classList.remove('active');
            }
        });
        backToTopButton.addEventListener('click', (e) => {
            e.preventDefault();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    }
    
    // --- CURRENT YEAR FOR FOOTER ---
    const currentYearSpan = document.getElementById('currentYear');
    if (currentYearSpan) {
        currentYearSpan.textContent = new Date().getFullYear();
    }

    // --- NEWSLETTER SUBSCRIPTION ---
    const subscribeBtn = document.getElementById('subscribeBtn');
    const newsletterEmailInput = document.getElementById('newsletterEmail');
    const newsletterSuccessMsg = document.getElementById('newsletterSuccess');

    if (subscribeBtn && newsletterEmailInput && newsletterSuccessMsg) {
        subscribeBtn.addEventListener('click', function() {
            const email = newsletterEmailInput.value.trim();
            if (email && email.includes('@')) { 
                newsletterSuccessMsg.textContent = "Thank you for subscribing!";
                newsletterSuccessMsg.style.color = "var(--primary)";
                newsletterSuccessMsg.style.display = 'block';
                newsletterEmailInput.value = '';
                setTimeout(() => { newsletterSuccessMsg.style.display = 'none'; }, 3000);
            } else {
                newsletterSuccessMsg.textContent = "Please enter a valid email.";
                newsletterSuccessMsg.style.color = "red";
                newsletterSuccessMsg.style.display = 'block';
                 setTimeout(() => { 
                    newsletterSuccessMsg.style.display = 'none'; 
                }, 3000);
            }
        });
    }
    
    // --- CONTACT FORM SUBMISSION ---
    const mainContactForm = document.getElementById('mainContactForm');
    const contactFormSuccessMsg = document.getElementById('contactFormSuccess');
    if (mainContactForm && contactFormSuccessMsg) {
        mainContactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            contactFormSuccessMsg.textContent = "Message sent successfully! We'll get back to you soon.";
            contactFormSuccessMsg.style.display = 'block';
            mainContactForm.reset();
            setTimeout(() => {
                contactFormSuccessMsg.style.display = 'none';
                closeModal(document.getElementById('contact-form-modal'));
            }, 3000);
        });
    }

    // --- LOGIN FORM SWITCHING (STUDENT/LANDLORD) ---
    // This handles the tabs within the #login modal to show either student or landlord login form.
    const loginOptionBtns = document.querySelectorAll('#login .login-option-btn');
    const loginForms = document.querySelectorAll('#login .login-form');

    loginOptionBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            loginOptionBtns.forEach(b => b.classList.remove('active'));
            this.classList.add('active');

            const formIdToShow = this.getAttribute('data-form');
            loginForms.forEach(form => {
                form.style.display = form.id === formIdToShow ? 'block' : 'none';
            });
        });
    });
    
    // --- STUDENT LOGIN FORM SUBMISSION ---
    const studentLoginForm = document.getElementById('studentLoginForm');
    if (studentLoginForm) {
        studentLoginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            // TODO: Add actual validation and authentication logic here
            console.log("Student login attempt");
            alert("Student login successful (simulation)!");
            closeModal(document.getElementById('login'));
            openModal('property-listings'); 
            displayProperties(); 
        });
    }

    // --- LANDLORD LOGIN FORM SUBMISSION ---
    const landlordLoginForm = document.getElementById('landlordLoginForm');
    if (landlordLoginForm) {
        landlordLoginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            // TODO: Add actual validation and authentication logic here
            console.log("Landlord login attempt");
            alert("Landlord login successful (simulation)!");
            closeModal(document.getElementById('login'));
            openModal('landlord-dashboard');
            initializeCharts(); 
        });
    }
    
    // --- "SWITCH TO SIGNUP" LINKS IN LOGIN MODAL ---
    // These links allow users to navigate from the login modal to the signup flow.
    document.querySelectorAll('#login .switch-to-signup').forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const modalToOpen = this.getAttribute('data-modal'); // e.g., "student-signup" or "landlord-signup"
            closeModal(document.getElementById('login'));
            // The signup flow starts with #signup-options, or directly to student/landlord if preferred.
            // Current setup: data-modal on these links points to specific signup modals.
            openModal(modalToOpen); 
        });
    });

    // --- PASSWORD VALIDATION UI ---
    function setupPasswordValidation(passwordInputId, requirementsMap) {
        const passwordInput = document.getElementById(passwordInputId);
        if (!passwordInput) return;

        const reqElements = {};
        for (const key in requirementsMap) {
            const el = document.getElementById(requirementsMap[key]);
            if (el) reqElements[key] = el;
        }

        passwordInput.addEventListener('input', function() {
            const pass = this.value;
            if(reqElements.lengthReq) reqElements.lengthReq.className = pass.length >= 8 ? 'valid' : 'invalid';
            if(reqElements.upperReq) reqElements.upperReq.className = /[A-Z]/.test(pass) ? 'valid' : 'invalid';
            if(reqElements.numReq) reqElements.numReq.className = /[0-9]/.test(pass) ? 'valid' : 'invalid';
            if(reqElements.specialReq) reqElements.specialReq.className = /[^A-Za-z0-9]/.test(pass) ? 'valid' : 'invalid';
        });
    }
    setupPasswordValidation('studentPassword', {
        lengthReq: 'lengthReq', upperReq: 'upperReq', numReq: 'numReq', specialReq: 'specialReq'
    });
    
    // --- "OTHER UNIVERSITY" INPUT VISIBILITY ---
    const tertiarySchoolSelect = document.getElementById('tertiarySchool');
    const otherStudentUniversityDiv = document.getElementById('otherStudentUniversity');
    if (tertiarySchoolSelect && otherStudentUniversityDiv) {
        tertiarySchoolSelect.addEventListener('change', function() {
            otherStudentUniversityDiv.style.display = this.value === 'other' ? 'block' : 'none';
            if(this.value !== 'other' && document.getElementById('otherStudentUniversityName')) {
                document.getElementById('otherStudentUniversityName').value = ''; 
            }
        });
    }
    
    // --- VERIFICATION CODE INPUTS (AUTO-TAB AND JOINING) ---
    function setupVerificationInputs(containerSelector, onComplete) {
        const container = document.querySelector(containerSelector);
        if (!container) return;
        const inputs = Array.from(container.querySelectorAll('input[type="text"]')); 
        inputs.forEach((input, index) => {
            input.addEventListener('input', function() {
                this.value = this.value.replace(/[^0-9]/g, '').substring(0,1); 
                if (this.value && index < inputs.length - 1) {
                    inputs[index + 1].focus();
                }
                if (inputs.every(i => i.value)) { 
                    if (onComplete) onComplete(inputs.map(i => i.value).join(''));
                }
            });
            input.addEventListener('keydown', function(e) {
                if (e.key === "Backspace" && !this.value && index > 0) {
                    inputs[index - 1].focus();
                } else if (e.key >= '0' && e.key <= '9' && this.value && index < inputs.length -1) {
                    inputs[index+1].value = e.key;
                    inputs[index+1].focus();
                    e.preventDefault();
                }
            });
        });
    }
    
    // --- TIMER FUNCTIONALITY ---
    let otpTimerInterval; 
    function startOtpTimer(timerId, resendBtnId, duration = 60) {
        clearInterval(otpTimerInterval); 
        let timeLeft = duration;
        const timerElement = document.getElementById(timerId);
        const resendBtn = document.getElementById(resendBtnId);

        if (!timerElement || !resendBtn) return;

        resendBtn.disabled = true;
        timerElement.textContent = timeLeft;

        otpTimerInterval = setInterval(() => {
            timeLeft--;
            timerElement.textContent = timeLeft;
            if (timeLeft <= 0) {
                clearInterval(otpTimerInterval);
                resendBtn.disabled = false;
                timerElement.textContent = '0';
            }
        }, 1000);
    }

    // --- STUDENT SIGNUP FLOW ---
    const studentSignupForm = document.getElementById('studentSignupForm');
    const studentNextBtn = document.getElementById('studentNextBtn');
    const studentVerificationEmailDisplay = document.getElementById('studentVerificationEmailDisplay');
    const studentResendCodeBtn = document.getElementById('studentResendCode');
    const studentSignupStep1 = document.getElementById('studentSignupStep1');
    const studentVerificationStep = document.getElementById('studentVerificationStep');


    if (studentSignupForm && studentNextBtn && studentSignupStep1 && studentVerificationStep) {
        studentNextBtn.addEventListener('click', async function() {
            const name = document.getElementById('studentName').value.trim();
            const email = document.getElementById('studentEmail').value.trim();
            const password = document.getElementById('studentPassword').value;
            const school = document.getElementById('tertiarySchool').value;
            const studentIdVal = document.getElementById('studentId').value.trim();
            const phone = document.getElementById('studentPhone').value.trim();

            if (!name || !email || !password || !school || !studentIdVal || !phone) {
                alert('Please fill in all required fields for student signup.');
                return;
            }
            if (!email.includes('@')) { 
                alert('Please enter a valid student email address.');
                return;
            }
             if (!phone.match(/^[72][0-9]{7}$/)) {
                alert('Please enter a valid 8-digit Botswana mobile number (starting with 7 or 2).');
                return;
            }
            
            console.log(`Simulating OTP send to ${email}`);
            if(studentVerificationEmailDisplay) studentVerificationEmailDisplay.textContent = email;
            
            studentSignupStep1.classList.remove('active');
            studentVerificationStep.classList.add('active');
            setupVerificationInputs('#studentVerificationStep .verification-code');
            startOtpTimer('studentTimer', 'studentResendCode');
        });

        studentSignupForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const otpInputs = studentVerificationStep.querySelectorAll('.verification-code input');
            const otp = Array.from(otpInputs).map(input => input.value).join('');
            if (otp.length !== 6) {
                alert('Please enter the complete 6-digit verification code.');
                return;
            }
            console.log('Student signup submitted with OTP:', otp);
            alert('Student account created successfully (simulation)! Please proceed to payment.');
            closeModal(document.getElementById('student-signup'));
            openModal('payment-modal'); 
        });
        
        if(studentResendCodeBtn) {
            studentResendCodeBtn.addEventListener('click', () => {
                const email = document.getElementById('studentEmail').value.trim();
                if (!email) { alert("Please enter your email first."); return; }
                console.log(`Resending OTP for student to ${email}...`);
                alert(`Simulating OTP resend to ${email}.`);
                startOtpTimer('studentTimer', 'studentResendCode');
            });
        }
    }

    // --- LANDLORD SIGNUP FLOW ---
    const landlordSignupForm = document.getElementById('landlordSignupForm');
    const landlordNextBtn = document.getElementById('landlordNextBtn');
    const landlordVerificationText = document.getElementById('landlordVerificationText');
    const landlordResendCodeBtn = document.getElementById('landlordResendCode');
    const landlordSignupStep1 = document.getElementById('landlordSignupStep1');
    const landlordVerificationStep = document.getElementById('landlordVerificationStep');
    const landlordPasswordInput = document.getElementById('landlordPassword');
    const landlordConfirmPasswordInput = document.getElementById('landlordConfirmPassword');


    if (landlordSignupForm && landlordNextBtn && landlordSignupStep1 && landlordVerificationStep) {
        landlordNextBtn.addEventListener('click', async function() {
            const fullName = document.getElementById('landlordFullName').value.trim();
            const email = document.getElementById('landlordEmail').value.trim();
            const phone = document.getElementById('landlordPhone').value.trim();
            const password = landlordPasswordInput.value;
            const confirmPassword = landlordConfirmPasswordInput.value;

            if (!fullName || !email || !phone || !password || !confirmPassword) {
                alert('Please fill all required fields for landlord signup.');
                return;
            }
            if (password !== confirmPassword) {
                alert('Passwords do not match.');
                return;
            }
            if (!phone.match(/^[72][0-9]{7}$/)) {
                alert('Please enter a valid 8-digit Botswana mobile number (starting with 7 or 2).');
                return;
            }

            const verificationMethod = landlordSignupForm.querySelector('input[name="landlordVerificationMethod"]:checked').value;
            const target = verificationMethod === 'email' ? email : phone;
            
            console.log(`Simulating OTP send to ${target} via ${verificationMethod}`);
            if(landlordVerificationText) landlordVerificationText.innerHTML = `We've sent a verification code to <strong>${target}</strong>. Please enter it below:`;
            
            landlordSignupStep1.classList.remove('active');
            landlordVerificationStep.classList.add('active');
            setupVerificationInputs('#landlordVerificationCodeInputs');
            startOtpTimer('landlordTimer', 'landlordResendCode');
        });

        landlordSignupForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const otpInputs = landlordVerificationStep.querySelectorAll('.verification-code input');
            const otp = Array.from(otpInputs).map(input => input.value).join('');
             if (otp.length !== 6) {
                alert('Please enter the complete 6-digit verification code.');
                return;
            }
            console.log('Landlord signup submitted with OTP:', otp);
            alert('Landlord account created successfully (simulation)!');
            closeModal(document.getElementById('landlord-signup'));
            openModal('landlord-dashboard');
            initializeCharts(); 
        });
        
        if(landlordResendCodeBtn) {
            landlordResendCodeBtn.addEventListener('click', () => {
                const verificationMethod = landlordSignupForm.querySelector('input[name="landlordVerificationMethod"]:checked').value;
                const target = verificationMethod === 'email' ? document.getElementById('landlordEmail').value.trim() : document.getElementById('landlordPhone').value.trim();
                if (!target) { alert(`Please ensure your ${verificationMethod} is entered in the previous step.`); return; }
                console.log(`Resending OTP for landlord to ${target}...`);
                 alert(`Simulating OTP resend to ${target}.`);
                startOtpTimer('landlordTimer', 'landlordResendCode');
            });
        }
    }
    
    // --- PAYMENT FORM HANDLING ---
    const paymentForm = document.getElementById('payment-form');
    if (paymentForm) {
        paymentForm.addEventListener('submit', function(e) {
            e.preventDefault();
            console.log('Processing payment...');
            alert('Payment successful (simulation)! Welcome to InRent.');
            closeModal(document.getElementById('payment-modal'));
            openModal('welcome-message');
        });
        const cardNumberInput = document.getElementById('card-number');
        if (cardNumberInput) {
            cardNumberInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, ''); 
                value = value.replace(/(.{4})/g, '$1 ').trim(); 
                e.target.value = value.substring(0, 19); 
            });
        }
        const cardExpiryInput = document.getElementById('card-expiry');
        if (cardExpiryInput) {
            cardExpiryInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 2 && value.indexOf('/') === -1) { 
                    value = value.substring(0, 2) + '/' + value.substring(2,4);
                } else if (value.length === 2 && e.inputType !== 'deleteContentBackward' && value.indexOf('/') === -1) {
                    value = value + '/'; 
                }
                e.target.value = value.substring(0, 5);
            });
        }
        const cardCvvInput = document.getElementById('card-cvv');
        if (cardCvvInput) {
            cardCvvInput.addEventListener('input', (e) => {
                e.target.value = e.target.value.replace(/\D/g, '').substring(0,4); 
            });
        }
    }
    
    // --- VIEW LISTINGS BUTTON FROM WELCOME MESSAGE ---
    const viewListingsBtnWelcome = document.getElementById('viewListingsBtnWelcome');
    if (viewListingsBtnWelcome) {
        viewListingsBtnWelcome.addEventListener('click', function() {
            closeModal(document.getElementById('welcome-message'));
            openModal('property-listings');
            displayProperties(); 
        });
    }

    // --- PROPERTY LISTINGS & FILTERING (SAMPLE DATA) ---
    const sampleProperties = [
        { id: 1, title: "Modern 2-Bed near UB", price: 3500, location: "Gaborone (UB Area)", type: "apartment", bedrooms: "2", bathrooms: "1", image: "https://placehold.co/300x200/228B22/ffffff?text=Apt+1", features: ["WiFi", "Parking", "Secure"], safety: 8, condition: 9 },
        { id: 2, title: "Cozy Studio, Block 5", price: 2800, location: "Gaborone (Block 5)", type: "studio", bedrooms: "1", bathrooms: "1", image: "https://placehold.co/300x200/12B886/ffffff?text=Studio+1", features: ["Kitchenette", "Aircon"], safety: 7, condition: 7 },
        { id: 3, title: "Shared Room, Village", price: 1500, location: "Gaborone (Village)", type: "room", bedrooms: "1", bathrooms: "1", image: "https://placehold.co/300x200/FFC107/333333?text=Room+1", features: ["Shared Kitchen", "Furnished"], safety: 6, condition: 6 },
        { id: 4, title: "Spacious House, Phase 2", price: 6500, location: "Gaborone (Phase 2)", type: "house", bedrooms: "3", bathrooms: "2", image: "https://placehold.co/300x200/DC3545/ffffff?text=House+1", features: ["Garden", "Pet Friendly", "Garage"], safety: 9, condition: 8 },
        { id: 5, title: "Affordable Apt, Broadhurst", price: 2200, location: "Gaborone (Broadhurst)", type: "apartment", bedrooms: "1", bathrooms: "1", image: "https://placehold.co/300x200/007BFF/ffffff?text=Apt+2", features: ["Security", "Balcony"], safety: 7, condition: 7 },
        { id: 6, title: "3-Bed Townhouse, CBD", price: 7000, location: "Gaborone (CBD)", type: "house", bedrooms: "3", bathrooms: "2.5", image: "https://placehold.co/300x200/6F42C1/ffffff?text=House+2", features: ["Modern", "Pool Access", "Gym"], safety: 9, condition: 9 },
        { id: 7, title: "Single Room near BIUST", price: 1800, location: "Palapye (BIUST Area)", type: "room", bedrooms: "1", bathrooms: "1", image: "https://placehold.co/300x200/FD7E14/333333?text=Room+Palapye", features: ["Study Desk", "Quiet Area"], safety: 7, condition: 8 },
    ];

    const listingsContainer = document.querySelector('#property-listings .property-listings-container');
    const noListingsMessage = document.getElementById('noListingsMessage');

    function createPropertyCard(property) {
        const card = document.createElement('div');
        card.className = 'property-card animate'; 
        // Corrected the data-property-title attribute to use HTML entities for quotes
        card.innerHTML = `
            <img src="${property.image}" alt="${property.title}" class="property-image" onerror="this.src='https://placehold.co/300x200/cccccc/333333?text=Image+Not+Found';">
            <div class="property-details">
                <div class="property-price">P ${property.price.toLocaleString()}/month</div>
                <h3 class="property-title">${property.title}</h3>
                <div class="property-location"><i class="fas fa-map-marker-alt"></i> ${property.location}</div>
                <div class="property-features">
                    <span class="property-feature"><i class="fas fa-bed"></i> ${property.bedrooms === 'studio' ? 'Studio' : property.bedrooms + ' Bed(s)'}</span>
                    <span class="property-feature"><i class="fas fa-bath"></i> ${property.bathrooms} Bath(s)</span>
                </div>
                <div class="property-tags" style="margin-bottom:0.5rem; display:flex; flex-wrap:wrap; gap:0.3rem;">
                    ${property.features.map(f => `<span style="font-size:0.8rem; background: #f0f0f0; padding:0.2rem 0.5rem; border-radius:3px;">${f}</span>`).join('')}
                </div>
                <button class="btn btn-sm open-modal" data-modal="review-modal" style="width:48%; margin-top:0.5rem; background-color: var(--secondary);" data-property-title="${property.title.replace(/"/g, '&quot;').replace(/'/g, '&#39;')}">Review</button>
                <button class="btn btn-sm" style="width:48%; margin-top:0.5rem; float:right;" onclick="alert('Viewing details for: ${property.title.replace(/'/g, "\\'").replace(/"/g, "&quot;")}')">View Details</button>
            </div>
        `;
        
        const reviewBtn = card.querySelector('.open-modal[data-modal="review-modal"]');
        if(reviewBtn) {
            reviewBtn.addEventListener('click', function() {
                const propertyTitle = this.dataset.propertyTitle;
                const reviewModalTitle = document.getElementById('reviewModalTitle');
                if (reviewModalTitle) {
                    reviewModalTitle.textContent = `Write a Review for ${propertyTitle}`;
                }
            }, true); 
        }
        return card;
    }

    function displayProperties() {
        if (!listingsContainer || !noListingsMessage) return;
        listingsContainer.innerHTML = ''; 

        const locationFilter = document.getElementById('filterLocation').value;
        const priceFilter = document.getElementById('filterPriceRange').value;
        const typeFilter = document.getElementById('filterPropertyType').value;
        const bedroomsFilter = document.getElementById('filterBedrooms').value;

        const filteredProperties = sampleProperties.filter(p => {
            const priceMatch = priceFilter === 'all' ||
                (priceFilter === '0-2000' && p.price <= 2000) ||
                (priceFilter === '2001-4000' && p.price > 2000 && p.price <= 4000) ||
                (priceFilter === '4001-6000' && p.price > 4000 && p.price <= 6000) ||
                (priceFilter === '6000+' && p.price > 6000);
            const typeMatch = typeFilter === 'all' || p.type === typeFilter;
            const locationMatch = locationFilter === 'all' || p.location.toLowerCase().includes(locationFilter.toLowerCase());
            
            let bedroomsAsNumber = p.bedrooms;
            if (p.bedrooms === 'studio' || p.bedrooms === 'room') bedroomsAsNumber = 1; 
            else bedroomsAsNumber = parseInt(p.bedrooms);

            const bedroomsMatch = bedroomsFilter === 'all' || 
                (bedroomsFilter === '1' && bedroomsAsNumber == 1) ||
                (bedroomsFilter === '2' && bedroomsAsNumber == 2) ||
                (bedroomsFilter === '3' && bedroomsAsNumber >= 3);

            return priceMatch && typeMatch && locationMatch && bedroomsMatch;
        });

        if (filteredProperties.length === 0) {
            noListingsMessage.style.display = 'block';
        } else {
            noListingsMessage.style.display = 'none';
            filteredProperties.forEach(prop => listingsContainer.appendChild(createPropertyCard(prop)));
        }
    }
    
    const locationFilterSelect = document.getElementById('filterLocation');
    if (locationFilterSelect) {
        const uniqueLocations = [...new Set(sampleProperties.map(p => p.location.split('(')[0].trim()))];
        uniqueLocations.sort().forEach(loc => {
            if(loc) { 
                const option = document.createElement('option');
                option.value = loc.toLowerCase(); 
                option.textContent = loc;
                locationFilterSelect.appendChild(option);
            }
        });
    }


    ['filterLocation', 'filterPriceRange', 'filterPropertyType', 'filterBedrooms'].forEach(id => {
        const el = document.getElementById(id);
        if (el) el.addEventListener('change', displayProperties);
    });
    
    if (document.getElementById('property-listings')) {
        displayProperties();
    }

    // --- ADD LISTING MODAL FUNCTIONALITY ---
    const addListingModal = document.getElementById('add-listing-modal');
    const photoUploadGridInput = document.querySelector('#photoUploadGrid input[type="file"]'); 
    const photoPreviewContainer = document.getElementById('photoPreviewContainer');
    const idUploadInput = document.querySelector('#idUpload input[type="file"]');
    const deedUploadInput = document.querySelector('#deedUpload input[type="file"]');
    const amenityInput = document.getElementById('amenityInput');
    const amenitiesList = document.getElementById('amenitiesList');
    const conditionRating = document.getElementById('conditionRating');
    const safetyRating = document.getElementById('safetyRating');
    const conditionValue = document.getElementById('conditionValue');
    const safetyValue = document.getElementById('safetyValue');

    if (addListingModal) {
        if (photoUploadGridInput && photoPreviewContainer) {
            const photoUploadPlaceholderLabel = document.querySelector('#photoUploadGrid .photo-upload-item');
            if (photoUploadPlaceholderLabel) {
                photoUploadPlaceholderLabel.addEventListener('click', () => photoUploadGridInput.click());
            }

            photoUploadGridInput.addEventListener('change', function(event) {
                photoPreviewContainer.innerHTML = ''; 
                const files = event.target.files;
                if (files.length > 5) {
                    alert("You can upload a maximum of 5 photos.");
                    this.value = ""; 
                    return;
                }
                Array.from(files).forEach(file => {
                    if (file.size > 5 * 1024 * 1024) { 
                        alert(`File ${file.name} is too large (max 5MB).`);
                        return; 
                    }
                    if (!file.type.startsWith('image/')) {
                        alert(`File ${file.name} is not an image.`);
                        return; 
                    }
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const previewItem = document.createElement('div');
                        previewItem.className = 'photo-upload-item'; 
                        previewItem.style.borderStyle = 'solid'; 
                        previewItem.innerHTML = `
                            <img src="${e.target.result}" alt="Photo preview" class="photo-preview" style="position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover;">
                            <button type="button" class="photo-delete" style="display:block; position:absolute; top:5px; right:5px; z-index:2;">×</button>
                        `;
                        photoPreviewContainer.appendChild(previewItem);
                        previewItem.querySelector('.photo-delete').addEventListener('click', (evt) => {
                            evt.stopPropagation(); 
                            previewItem.remove();
                            if (photoPreviewContainer.children.length === 0) {
                                photoUploadGridInput.value = ""; 
                            }
                        });
                    };
                    reader.readAsDataURL(file);
                });
            });
        }
        
        function setupDocumentUpload(uploadElementId) {
            const uploadElement = document.getElementById(uploadElementId);
            if (!uploadElement) return;
            const input = uploadElement.querySelector('input[type="file"]');
            const previewDiv = uploadElement.querySelector('.upload-preview');
            const filenameSpan = previewDiv ? previewDiv.querySelector('.filename') : null;
            const placeholderP = uploadElement.querySelector('p');
            
            if (input && previewDiv && filenameSpan && placeholderP) {
                uploadElement.addEventListener('click', () => input.click()); 
                input.addEventListener('change', function() {
                    if (this.files && this.files[0]) {
                        const file = this.files[0];
                         if (file.size > 5 * 1024 * 1024) { 
                            alert(`File ${file.name} is too large (max 5MB).`);
                            this.value = ""; 
                            previewDiv.classList.remove('active');
                            placeholderP.style.display = 'block';
                            return;
                        }
                        filenameSpan.textContent = file.name;
                        previewDiv.classList.add('active');
                        placeholderP.style.display = 'none'; 
                    } else {
                        previewDiv.classList.remove('active');
                        placeholderP.style.display = 'block';
                    }
                });
            }
        }
        setupDocumentUpload('idUpload');
        setupDocumentUpload('deedUpload');

        if (amenityInput && amenitiesList) {
            amenityInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    const amenityText = this.value.trim();
                    if (amenityText) {
                        const tag = document.createElement('span');
                        tag.className = 'amenity-tag';
                        tag.textContent = amenityText;
                        const removeBtn = document.createElement('button');
                        removeBtn.type = 'button'; 
                        removeBtn.innerHTML = '×';
                        removeBtn.onclick = () => tag.remove();
                        tag.appendChild(removeBtn);
                        amenitiesList.appendChild(tag);
                        this.value = '';
                    }
                }
            });
        }
        
        if (conditionRating && conditionValue) {
            conditionRating.addEventListener('input', () => conditionValue.textContent = conditionRating.value);
        }
        if (safetyRating && safetyValue) {
            safetyRating.addEventListener('input', () => safetyValue.textContent = safetyRating.value);
        }

        const addListingForm = document.getElementById('addListingForm');
        if (addListingForm) {
            addListingForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const title = document.getElementById('listingTitle').value;
                const price = document.getElementById('listingPrice').value;
                if (!title || !price ) { 
                    alert('Please fill all required fields for the listing.');
                    return;
                }
                if (photoPreviewContainer.children.length < 3) { 
                    alert('Please upload at least 3 property photos.');
                    return;
                }
                if (!idUploadInput.files[0] || !deedUploadInput.files[0]) {
                    alert('Please upload ID and Title Deed documents.');
                    return;
                }

                console.log('Listing submitted (simulation).');
                alert('Property listing submitted for review!');
                addListingForm.reset(); 
                if(amenitiesList) amenitiesList.innerHTML = ''; 
                if(photoPreviewContainer) photoPreviewContainer.innerHTML = ''; 
                if(photoUploadGridInput) photoUploadGridInput.value = ""; 
                document.querySelectorAll('.upload-preview').forEach(p => {
                    p.classList.remove('active');
                    if(p.querySelector('.filename')) p.querySelector('.filename').textContent = '';
                });
                document.querySelectorAll('.document-upload p').forEach(p => p.style.display = 'block');
                if(conditionValue) conditionValue.textContent = conditionRating.value = '7'; 
                if(safetyValue) safetyValue.textContent = safetyRating.value = '7';
                closeModal(addListingModal);
            });
        }
    }
    
    // --- LANDLORD DASHBOARD CHARTS & ACTIVITY BUTTONS ---
    let incomeChartInstance, propertyChartInstance;
    function initializeCharts() {
        const incomeCtx = document.getElementById('incomeChart');
        const propertyCtx = document.getElementById('propertyChart'); 

        if (incomeCtx) {
            if (incomeChartInstance) incomeChartInstance.destroy(); 
            incomeChartInstance = new Chart(incomeCtx.getContext('2d'), {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Monthly Income (P)',
                        data: [10000, 11200, 10800, 11500, 11900, 12500], 
                        borderColor: 'var(--primary)',
                        backgroundColor: 'rgba(34, 139, 34, 0.1)',
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });
        }

        if (propertyCtx) {
            if (propertyChartInstance) propertyChartInstance.destroy();
            propertyChartInstance = new Chart(propertyCtx.getContext('2d'), {
                type: 'doughnut', 
                data: {
                    labels: ['Rented', 'Vacant'],
                    datasets: [{
                        label: 'Property Occupancy',
                        data: [4, 1], 
                        backgroundColor: ['var(--primary)', '#e0e0e0'],
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });
        }
    }
    const activityViewButtons = document.querySelectorAll('.recent-activity .view-activity-btn');
    activityViewButtons.forEach(button => {
        button.addEventListener('click', function() {
            const activityDetails = this.dataset.activity || "Selected activity";
            alert(`Viewing details for: ${activityDetails}`);
        });
    });


    // --- CHAT WIDGET FUNCTIONALITY ---
    const chatWidget = document.getElementById('chatWidget');
    const chatHeader = document.getElementById('chatHeader');
    const chatToggle = document.getElementById('chatToggle');
    const chatMessagesContainer = document.getElementById('chatMessages');
    const messageInput = document.getElementById('messageInput');
    const sendMessageBtn = document.getElementById('sendMessage');

    if (chatWidget && chatHeader && chatToggle) {
        chatHeader.addEventListener('click', () => {
            chatWidget.classList.toggle('expanded');
            chatToggle.innerHTML = chatWidget.classList.contains('expanded') 
                ? '<i class="fas fa-chevron-down"></i>' 
                : '<i class="fas fa-chevron-up"></i>';
        });

        if (sendMessageBtn && messageInput && chatMessagesContainer) {
            function addChatMessage(text, type = 'sent') {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${type}`;
                messageDiv.innerHTML = `
                    <div class="message-content">${text}</div>
                    <div class="message-time">${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</div>
                `;
                chatMessagesContainer.appendChild(messageDiv);
                chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight; 
            }

            sendMessageBtn.addEventListener('click', () => {
                const text = messageInput.value.trim();
                if (text) {
                    addChatMessage(text, 'sent');
                    messageInput.value = '';
                    setTimeout(() => {
                        addChatMessage("Thanks for your message! A support agent will be with you shortly.", 'received');
                    }, 1000);
                }
            });
            messageInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !e.shiftKey) { 
                    e.preventDefault();
                    sendMessageBtn.click();
                }
            });
        }
    }
    
    // --- REVIEW MODAL STARS & SUBMISSION ---
    const reviewModal = document.getElementById('review-modal');
    const reviewRatingStarsContainer = document.getElementById('reviewRatingStars');
    const selectedRatingInput = document.getElementById('selectedRating');
    const reviewForm = document.getElementById('reviewForm');
    const reviewFormSuccess = document.getElementById('reviewFormSuccess');


    if (reviewRatingStarsContainer && selectedRatingInput) {
        const stars = Array.from(reviewRatingStarsContainer.querySelectorAll('i'));
        stars.forEach(star => {
            star.addEventListener('mouseover', function() {
                const currentValue = parseInt(this.dataset.value);
                stars.forEach((s, i) => {
                    s.className = i < currentValue ? 'fas fa-star' : 'far fa-star';
                });
            });
            star.addEventListener('mouseout', function() {
                const selectedValue = parseInt(selectedRatingInput.value) || 0;
                stars.forEach((s, i) => {
                    s.className = i < selectedValue ? 'fas fa-star' : 'far fa-star';
                });
            });
            star.addEventListener('click', function() {
                selectedRatingInput.value = this.dataset.value;
                 const selectedValue = parseInt(selectedRatingInput.value);
                stars.forEach((s, i) => {
                    s.className = i < selectedValue ? 'fas fa-star' : 'far fa-star';
                });
            });
        });
    }
    if (reviewForm && reviewModal) {
        reviewForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const rating = selectedRatingInput.value;
            const reviewText = document.getElementById('reviewText').value.trim();

            if (!rating || rating === "0") {
                alert("Please select a star rating.");
                return;
            }
            if (!reviewText) {
                alert("Please write your review.");
                return;
            }
            console.log(`Review Submitted: Rating ${rating}, Text: ${reviewText}`);
            if (reviewFormSuccess) {
                reviewFormSuccess.textContent = "Thank you for your review!";
                reviewFormSuccess.style.display = 'block';
            }
            reviewForm.reset();
            if(reviewRatingStarsContainer) reviewRatingStarsContainer.querySelectorAll('i').forEach(s => s.className = 'far fa-star');
            selectedRatingInput.value = "";

            setTimeout(() => {
                if (reviewFormSuccess) reviewFormSuccess.style.display = 'none';
                closeModal(reviewModal);
            }, 2500);
        });
    }
    
    // --- LANDLORDS LEFT UPDATE (EXAMPLE) ---
    const landlordsLeftSpan = document.getElementById('landlordsLeft');
    if (landlordsLeftSpan) {
        let spots = 10; 
        landlordsLeftSpan.textContent = spots;
    }

}); // End DOMContentLoaded
</script>
</body>
</html>
