<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="theme-color" content="#228B22" />
    <title>Property Marketplace - InRent</title>

    <!-- Preload critical assets -->
    <link
      rel="preload"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      as="style"
    />
    <link
      rel="preload"
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap"
      as="style"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/main.css" />
    <link rel="stylesheet" href="./css/index.css" />
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-1F24YHYS28"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-1F24YHYS28");
    </script>
  </head>
  <body>
    <!-- Add message bubble before the container div -->
    <div class="message-bubble" id="messageBubble">
      <i class="fas fa-comments"></i>
      <span class="message-badge">3</span>
    </div>

    <div class="message-dropdown" id="messageDropdown">
      <div class="message-header">
        <h3>Messages</h3>
        <button
          class="btn btn-secondary"
          style="padding: 0.5rem 1rem; font-size: 0.9rem"
        >
          <i class="fas fa-plus"></i> New Message
        </button>
      </div>
      <div class="message-list">
        <div class="message-item">
          <div class="sender">John Smith (Landlord)</div>
          <div class="preview">
            Hi, I'm interested in your property. Is it still available?
          </div>
          <div class="time">2 hours ago</div>
        </div>
        <div class="message-item">
          <div class="sender">Sarah Johnson (Landlord)</div>
          <div class="preview">
            Thank you for your inquiry. Yes, the property is still available...
          </div>
          <div class="time">1 day ago</div>
        </div>
        <div class="message-item">
          <div class="sender">Mike Brown (Landlord)</div>
          <div class="preview">
            I can arrange a viewing for tomorrow at 2 PM if that works for you.
          </div>
          <div class="time">2 days ago</div>
        </div>
      </div>
    </div>

    <header class="header">
      <div class="header-content">
        <a href="/" class="logo">InRent</a>
        <button class="mobile-menu-btn" aria-label="Open menu">
          <i class="fas fa-bars"></i>
        </button>
        <nav class="nav-links">
          <a href="/marketplace.html">Properties</a>
          <a href="/saved-properties.html">Saved</a>
          <a href="/messages.html">Messages</a>
          <a href="/profile.html">Profile</a>
        </nav>
      </div>
    </header>

    <div class="mobile-menu">
      <div class="mobile-menu-header">
        <a href="/" class="logo">InRent</a>
        <button class="mobile-menu-close" aria-label="Close menu">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <nav class="mobile-menu-links">
        <a href="/marketplace.html">Properties</a>
        <a href="/saved-properties.html">Saved</a>
        <a href="/messages.html">Messages</a>
        <a href="/student-dashboard.html">Profile</a>
      </nav>
    </div>

    <div class="container">
      <section class="search-section">
        <div class="search-header">
          <h1>Find Your Perfect Home</h1>
          <p>
            Browse through our selection of student accommodations in Gaborone
          </p>
        </div>
        <div class="search-filters">
          <div class="filter-group">
            <label for="location">Location</label>
            <select id="location">
              <option value="">All Locations</option>
              <option value="ub">Near UB</option>
              <option value="baisago">Near Baisago</option>
              <option value="botho">Near Botho</option>
              <option value="riverwalk">Riverwalk</option>
              <option value="gamecity">Game City</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="price">Price Range</label>
            <select id="price">
              <option value="">Any Price</option>
              <option value="0-2000">P0 - P2,000</option>
              <option value="2000-4000">P2,000 - P4,000</option>
              <option value="4000-6000">P4,000 - P6,000</option>
              <option value="6000+">P6,000+</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="type">Property Type</label>
            <select id="type">
              <option value="">All Types</option>
              <option value="private">Private Room</option>
              <option value="shared">Shared Room</option>
              <option value="apartment">Apartment</option>
              <option value="house">House</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="amenities">Amenities</label>
            <select id="amenities">
              <option value="">All Amenities</option>
              <option value="wifi">WiFi</option>
              <option value="parking">Parking</option>
              <option value="furnished">Furnished</option>
              <option value="security">Security</option>
              <option value="laundry">Laundry</option>
            </select>
          </div>
        </div>
        <div class="search-actions">
          <button class="btn btn-primary">
            <i class="fas fa-search"></i> Search Properties
          </button>
          <button class="btn btn-secondary">
            <i class="fas fa-filter"></i> Advanced Filters
          </button>
        </div>
      </section>

      <div class="property-grid" id="propertyGrid">
        <!-- Properties will be dynamically injected here -->
      </div>
    </div>

    <!-- Review Modal -->
    <div class="modal" id="review-modal">
      <div class="modal-content" style="max-width: 550px">
        <span class="modal-close">Ã—</span>
        <h3 id="reviewModalTitle">Write a Review</h3>
        <form id="reviewForm">
          <div class="form-group">
            <label>Your Rating:</label>
            <div class="rating-stars" id="reviewRatingStars"></div>
          </div>
          <div class="form-group">
            <label for="reviewText">Your Review:</label>
            <textarea id="reviewText" required rows="4"></textarea>
          </div>
          <button type="submit" class="btn">Submit Review</button>
          <div class="success-message" id="reviewFormSuccess"></div>
        </form>
      </div>
    </div>

    <script src="marketplace.js" />
  </body>
</html>
